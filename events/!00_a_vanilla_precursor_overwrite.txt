
@tier1influencecontact = 7
@tier1influencecontactxenophile = 8
@tier1influencecontactmin = 20
@tier1influencecontactmax = 80

@tier2influencecontact = 10
@tier2influencecontactxenophile = 12
@tier2influencecontactmin = 40
@tier2influencecontactmax = 100

@tier1materialreward = 6
@tier1materialmin = 100
@tier1materialmax = 500
@tier2materialreward = 12
@tier2materialmin = 150
@tier2materialmax = 1000
@tier3materialreward = 18
@tier3materialmin = 250
@tier3materialmax = 1500
@tier4materialreward = 24
@tier4materialmin = 350
@tier4materialmax = 2000
@tier5materialreward = 48
@tier5materialmin = 700
@tier5materialmax = 4000

@tier1influencereward = 6
@tier1influencemin = 40
@tier1influencemax = 100
@tier2influencereward = 12
@tier2influencemin = 80
@tier2influencemax = 175
@tier3influencereward = 18
@tier3influencemin = 125
@tier3influencemax = 250
@tier4influencereward = 24
@tier4influencemin = 150
@tier4influencemax = 300
@tier5influencereward = 36
@tier5influencemin = 250
@tier5influencemax = 500
@tier6influencereward = 48
@tier6influencemin = 300
@tier6influencemax = 600

@tier1researchreward = 6
@tier1researchmin = 60
@tier1researchmax = 150
@tier2researchreward = 12
@tier2researchmin = 90
@tier2researchmax = 250
@tier3researchreward = 18
@tier3researchmin = 120
@tier3researchmax = 350
@tier4researchreward = 24
@tier4researchmin = 150
@tier4researchmax = 500
@tier5researchreward = 48
@tier5researchmin = 300
@tier5researchmax = 1000

namespace = precursor

### The Vultaum Star Assembly

# Vultaum Home System Discovered
country_event = {
	id = precursor.100
	title = "precursor.100.name"
	desc = "precursor.100.desc"
	picture = GFX_evt_federation_fleet
	location = event_target:vultaumar
	
	is_triggered_only = yes
	
	immediate = {
		random_system = {
			limit = { has_star_flag = vultaumar }
			save_event_target_as = vultaumar
			# Start -guilli
			random_system_planet = {
				limit = { has_planet_flag = vultaum_homeworld }
				set_planet_flag = "gpm_is_precursor_world"
				# broken planet thus we give it a guaranteed shipyards and a deposit bonus
				add_modifier = { days = -1 modifier = "Precursor_Shipyards" }
				gpm_set_shipyards_objects = yes
				orbital_deposit_tile = {
					add_deposit = d_enormous3_engineering_deposit
					add_deposit = d_enormous3_physics_deposit
					add_deposit = d_enormous3_society_deposit
					add_deposit = d_enormous3_engineering_deposit
					add_deposit = d_enormous3_physics_deposit
					add_deposit = d_enormous3_society_deposit
				}
			}
			# End -guilli
		}
	}
	
	option = {
		name = "precursor.100.a"
		end_event_chain = "vultaum_chain"
		begin_event_chain = {
			event_chain = "vultaum_homeworld_chain"
			target = ROOT
		}
		create_point_of_interest = {
			id = vultaum.1
			name = "vultaum_1_poi"
			desc = "vultaum_1_poi_desc"
			event_chain = vultaum_homeworld_chain
			location = event_target:vultaumar
		}
	}
}




### The Yuht Empire

# Yuht Home System Discovered
country_event = {
	id = precursor.600
	title = "precursor.600.name"
	desc = "precursor.600.desc"
	picture = GFX_evt_federation_fleet
	location = event_target:yuhtaan
	
	is_triggered_only = yes
	
	immediate = {
		random_system = {
			limit = { has_star_flag = yuhtaan }
			save_event_target_as = yuhtaan
			# Start -guilli
			random_system_planet = {
				limit = { has_planet_flag = yuht_homeworld }
				set_planet_flag = "gpm_is_precursor_world"
				# broken planet thus we give it a guaranteed shipyards and a deposit bonus
				add_modifier = { days = -1 modifier = "Precursor_Shipyards" }
				gpm_set_shipyards_objects = yes
				orbital_deposit_tile = {
					add_deposit = d_enormous3_engineering_deposit
					add_deposit = d_enormous3_physics_deposit
					add_deposit = d_enormous3_society_deposit
					add_deposit = d_enormous3_engineering_deposit
					add_deposit = d_enormous3_physics_deposit
					add_deposit = d_enormous3_society_deposit
				}
			}
			# End -guilli
		}
	}
	
	option = {
		name = "precursor.100.a"
		end_event_chain = "yuht_chain"
		begin_event_chain = {
			event_chain = "yuht_homeworld_chain"
			target = ROOT
		}
		create_point_of_interest = {
			id = yuht.1
			name = "yuht_1_poi"
			desc = "yuht_1_poi_desc"
			event_chain = yuht_homeworld_chain
			location = event_target:yuhtaan
		}
	}
}

### The First League

# First League Home System Discovered
country_event = {
	id = precursor.1100
	title = "precursor.1100.name"
	desc = "precursor.1100.desc"
	picture = GFX_evt_federation_fleet
	location = event_target:fen_habbanis
	
	is_triggered_only = yes
	
	immediate = {
		random_system = {
			limit = { has_star_flag = fen_habbanis }
			save_event_target_as = fen_habbanis
			# Start -guilli
			random_system_planet = {
				limit = { has_planet_flag = first_league_homeworld }
				set_planet_flag = "gpm_is_precursor_world"
				# normal planet thus we give it a guaranteed shipyards and two random precursor modifiers.
				add_modifier = { days = -1 modifier = "Precursor_Shipyards" }
				add_modifier = { days = -1 modifier = "Precursor_Capital_Complex" }
				random_list = {
					10 = { add_modifier = { days = -1 modifier = "Precursor_Planetary_Gun" } }
					10 = { add_modifier = { days = -1 modifier = "Precursor_Bunker_Grid" } }
					10 = { add_modifier = { days = -1 modifier = "Precursor_Mechs" } }
					10 = { add_modifier = { days = -1 modifier = "Precursor_Eternal_Fortress" } }
				}
				gpm_set_shipyards_objects = yes
				add_modifier = { modifier = terraforming_candidate_precursor days = -1 }
				orbital_deposit_tile = {
					clear_deposits = yes
					add_deposit = gpm_unity_deposit
				}
			}
			# End -guilli
		}
	}
	
	option = {
		name = "precursor.100.a"
		end_event_chain = "first_league_chain"
		begin_event_chain = {
			event_chain = "first_league_homeworld_chain"
			target = ROOT
		}
		create_point_of_interest = {
			id = first_league.1
			name = "first_league_1_poi"
			desc = "first_league_1_poi_desc"
			event_chain = first_league_homeworld_chain
			location = event_target:fen_habbanis
		}
	}
}



### The Irassian Concordat

# Irassian Home System Discovered (HIDDEN)
country_event = {
	id = precursor.1598
	hide_window = yes
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	immediate = {
		set_global_flag = irassia_discovered
		set_country_flag = irassian_system
		if = {
			limit = {
				any_system_within_border = { has_star_flag = empire_home_system }
			}
			random_system_within_border = {
				limit = { has_star_flag = empire_home_system }
				spawn_system = {
					min_distance = 20
					max_distance = 50
					initializer = "irass_system"
				}
			}
		}
		else = {
			random_system = {
				limit = { has_star_flag = precursor_4 }
				spawn_system = {
					min_distance = 20
					max_distance = 50
					initializer = "irass_system"
				}
			}
		}
		country_event = { id = precursor.1600 days = 2 }
	}
}

# Irassian Home System Discovered
country_event = {
	id = precursor.1600
	title = "precursor.1600.name"
	desc = "precursor.1600.desc"
	picture = GFX_evt_federation_fleet
	location = event_target:irass
	
	is_triggered_only = yes
	
	immediate = {
		random_system = {
			limit = { has_star_flag = irass }
			save_event_target_as = irass
			# Start -guilli
			random_system_planet = {
				limit = { has_planet_flag = irassian_homeworld }
				set_planet_flag = "gpm_is_precursor_world"
				# normal planet thus we give it a guaranteed shipyards and two random precursor modifiers.
				add_modifier = { days = -1 modifier = "Precursor_Shipyards" }
				add_modifier = { days = -1 modifier = "Precursor_Capital_Complex" }
				random_list = {
					10 = { add_modifier = { days = -1 modifier = "Precursor_Planetary_Gun" } }
					10 = { add_modifier = { days = -1 modifier = "Precursor_Bunker_Grid" } }
					10 = { add_modifier = { days = -1 modifier = "Precursor_Mechs" } }
					10 = { add_modifier = { days = -1 modifier = "Precursor_Eternal_Fortress" } }
				}
				gpm_set_shipyards_objects = yes
				add_modifier = { modifier = terraforming_candidate_precursor days = -1 }
				orbital_deposit_tile = {
					clear_deposits = yes
					add_deposit = gpm_unity_deposit
				}
			}
			# End -guilli
		}
	}
	
	option = {
		name = "precursor.100.a"
		end_event_chain = "irassian_chain"
		begin_event_chain = {
			event_chain = "irassian_homeworld_chain"
			target = ROOT
		}
		hidden_effect = {
			create_point_of_interest = {
				id = irassian.1
				name = "irassian_1_poi"
				desc = "irassian_1_poi_desc"
				event_chain = irassian_homeworld_chain
				location = event_target:irass
			}
		}
	}
}

### Cybrex

# Cybrex Home System Discovered
country_event = {
	id = precursor.2100
	title = "precursor.2100.name"
	desc = "precursor.2100.desc"
	picture = GFX_evt_federation_fleet
	location = event_target:cybrex
	
	is_triggered_only = yes
	
	immediate = {
		random_system = {
			limit = { has_star_flag = cybrex }
			save_event_target_as = cybrex
			# Start -guilli
			random_system_planet = {
				limit = { is_star = yes }
				add_modifier = { modifier = Singing_Star days = -1 }
				add_modifier = { modifier = Precursor_Star_Filter days = -1 }
				orbital_deposit_tile = {
					clear_deposits = yes
					add_deposit = gpm_unity_deposit
					add_deposit = gpm_unity_deposit
				}
			}
			# End -guilli
		}
	}
	
	option = {
		name = "precursor.100.a"
		end_event_chain = "cybrex_chain"
		begin_event_chain = {
			event_chain = "cybrex_homeworld_chain"
			target = ROOT
		}
		create_point_of_interest = {
			id = cybrex.1
			name = "cybrex_1_poi"
			desc = "cybrex_1_poi_desc"
			event_chain = cybrex_homeworld_chain
			location = event_target:cybrex
		}
	}
}

# Irassian Homeworld
ship_event = {
	id = precursor.1601
	title = "precursor.1601.name"
	desc = "precursor.1601.desc"
	picture = GFX_evt_dead_city
	location = from
	
	is_triggered_only = yes

	trigger = {
		from = { has_planet_flag = irassian_homeworld }
		owner = { 
			is_ai = no 
			has_country_flag = irassian_system
		}
	}

	immediate = {
		owner = {
			set_country_flag = irassian_world_found
			set_global_flag = irassian_homeworld_found
			if = {
				limit = { has_event_chain = irassian_chain }
				end_event_chain = "irassian_chain"
			}
			if = {
				limit = { has_event_chain = irassian_homeworld_chain }
				end_event_chain = irassian_homeworld_chain
			}
		}
	}
	
	option = {
		name = "FASCINATING"
		owner = {
			add_unity = 15000
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier4researchreward
				min = @tier5researchmin
				max = @tier5researchmax
			}
			add_monthly_resource_mult = {
				resource = minerals
				value = @tier4materialreward
				min = @tier5materialmin
				max = @tier5materialmax
			}
		}
	}
}

# Yuht Homeworld
ship_event = {
	id = precursor.601
	title = "precursor.601.name"
	desc = "precursor.601.desc"
	picture = GFX_evt_archaeological_dig
	location = from
	
	is_triggered_only = yes

	trigger = {
		from = { has_planet_flag = yuht_homeworld }
		owner = { 
			is_ai = no 
			has_country_flag = yuht_system
		}
	}
	
	immediate = {
		set_global_flag = yuht_homeworld_found
		owner = {
			set_country_flag = yuht_world_found
			end_event_chain = "yuht_homeworld_chain"
		}
	}
	
	option = {
		name = "FASCINATING"
		owner = {
			add_unity = 15000
			add_monthly_resource_mult = {
				resource = energy
				value = @tier5materialreward
				min = @tier5materialmin
				max = @tier5materialmax
			}
			add_monthly_resource_mult = {
				resource = minerals
				value = @tier5materialreward
				min = @tier5materialmin
				max = @tier5materialmax
			}
		}
	}
}

# Vultaum Homeworld
ship_event = {
	id = precursor.101
	title = "precursor.101.name"
	desc = "precursor.101.desc"
	picture = GFX_evt_archaeological_dig
	location = from
	
	is_triggered_only = yes

	trigger = {
		from = { has_planet_flag = vultaum_homeworld }
		owner = { 
			is_ai = no 
			has_country_flag = vultaum_system
		}
	}

	immediate = {
		owner = {
			set_country_flag = vultaum_world_found
			set_global_flag = vultaum_homeworld_found
			if = {
				limit = { has_event_chain = vultaum_chain }
				end_event_chain = "vultaum_chain"
			}
			if = {
				limit = { has_event_chain = "vultaum_homeworld_chain" }
				end_event_chain = "vultaum_homeworld_chain"
			}
		}
	}
	
	option = {
		name = "FASCINATING"
		owner = {
			add_unity = 15000
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}
	}
}


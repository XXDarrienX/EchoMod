# Enable resources for Galactic Market

namespace = action 

event = {
	id = action.116
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_global_flag = galactic_market_founded

		OR = {
			NOT = { is_on_market = volatile_motes }
			NOT = { is_on_market = exotic_gases }
			NOT = { is_on_market = rare_crystals }
			NOT = { is_on_market = sr_living_metal }
			NOT = { is_on_market = sr_zro }
			NOT = { is_on_market = sr_dark_matter }
			NOT = { is_on_market = esc_living_crystal }
		}
	}

	immediate = {
		if = {
			limit = {
									NOT = { is_on_market = volatile_motes }
				any_playable_country = {
				resource_stockpile_compare = {  resource = volatile_motes value >= 1 } }
			}
										enable_on_market = volatile_motes
		}
		else_if = {
			limit = {
									NOT = { is_on_market = exotic_gases }
				any_playable_country = {
				resource_stockpile_compare = {  resource = exotic_gases value >= 1 } }
			}
										enable_on_market = exotic_gases
		}
		else_if = {
			limit = {
									NOT = { is_on_market = rare_crystals }
				any_playable_country = {
				resource_stockpile_compare = {  resource = rare_crystals value >= 1 } }
			}
										enable_on_market = rare_crystals
		}
		else_if = {
			limit = {
									NOT = { is_on_market = sr_living_metal }
				any_playable_country = {
				resource_stockpile_compare = {  resource = sr_living_metal value >= 1 } }
			}
										enable_on_market = sr_living_metal
		}
		else_if = {
			limit = {
									NOT = { is_on_market = sr_zro }
				any_playable_country = {
				resource_stockpile_compare = {  resource = sr_zro value >= 1 } }
			}
										enable_on_market = sr_zro
		}
		else_if = {
			limit = {
									NOT = { is_on_market = sr_dark_matter }
				any_playable_country = {
				resource_stockpile_compare = {  resource = sr_dark_matter value >= 1 } }
			}
										enable_on_market = sr_dark_matter
		}
		else_if = {
			limit = {
				NOT = { is_on_market = esc_living_crystal }
				any_playable_country = {
					OR = {
						resource_stockpile_compare = {
							resource = esc_living_crystal
							value > 0
						}
						has_monthly_income = {
							resource = esc_living_crystal
							value > 0
						}
					}
				}
			}
			enable_on_market = esc_living_crystal
		}
	}
}
namespace = gai_ai_early_game

event = {
	id = gai_ai_early_game.1	
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		every_country = {
			limit = {
				is_ai = yes
				is_at_war = no
				is_country_type = "default"
				NOT = { has_global_flag = "disable_gai_earlygame" }
			}
			country_event = { id = gai_ai_early_game.2 }
		}
	}
}

country_event = {
	id = gai_ai_early_game.2
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		IF = {
			LIMIT = {
				has_resource = { type = alloys amount > 149 }
				years_passed < 25
			}
			IF = {
				limit = {
					has_resource = { type = energy amount > 200 }
					count_owned_ships = { 
						limit = { 
							is_ship_class = shipclass_science_ship 
						} 
						count < 3 
					}
				}
				random_owned_starbase =	{
					limit = {
						solar_system = { is_same_value = root.owner.capital_scope.solar_system }
					}
					create_fleet = {
						effect = {
							set_owner = root
							create_ship = {
								random_existing_design = science
								name = random
							}
							OWNER = {
								create_leader = {
									class = scientist
									species = owner_main_species
									name = random
									skill = 1
									traits = { trait = random_trait }
								}
							}
							assign_leader = last_created_leader
						}
					}
				}
				add_resource = {
					alloys = -100
				}
				add_resource = {
					energy = -200
				}
			}
			ELSE_IF = {
				limit = {
					count_owned_ships = { 
						limit = { 
							is_ship_class = shipclass_constructor 
						} 
						count < 5 
					}
				}
				random_owned_starbase =	{
					limit = {
						solar_system = { is_same_value = root.owner.capital_scope.solar_system }
					}
					create_fleet = {
						effect = {
							set_owner = root
							create_ship = {
								name = random
								random_existing_design = constructor
							}
						}
					}
				}
				add_resource = {
					alloys = -100
				}
			}
		}
		ELSE_IF = {
			LIMIT = {
				has_resource = { type = alloys amount > 100 }
				years_passed > 4
			}
			IF = {
				limit = {
					count_owned_ships = { 
						limit = { 
							is_ship_class = shipclass_science_ship 
						} 
						count < 1 
					}
				}
				random_owned_starbase =	{
					limit = {
						solar_system = { is_same_value = root.owner.capital_scope.solar_system }
					}
					create_fleet = {
						effect = {
							set_owner = root
							create_ship = {
								random_existing_design = science
							}
							OWNER = {
								create_leader = {
									class = scientist
									species = owner_main_species
									name = random
									skill = 1
									traits = { trait = random_trait }
								}
							}
							assign_leader = last_created_leader
						}
					}
				}
				add_resource = {
					alloys = -100
				}
			}
			ELSE_IF = {
				limit = {
					count_owned_ships = { 
						limit = { 
							is_ship_class = shipclass_constructor 
						} 
						count < 2 
					}
				}
				random_owned_starbase =	{
					limit = {
						solar_system = { is_same_value = root.owner.capital_scope.solar_system }
					}
					create_fleet = {
						effect = {
							set_owner = root
							create_ship = {
								random_existing_design = constructor
								name = random
							}
						}
					}
				}
				add_resource = {
					alloys = -100
				}
			}
			IF = {
				limit = {
					has_resource = { type = energy amount > 200 }
					count_owned_ships = {
						limit = { 
							is_ship_class = shipclass_science_ship 
						} 
						count < 2 
					}
				}
				random_owned_starbase =	{
					limit = {
						solar_system = { is_same_value = root.owner.capital_scope.solar_system }
					}
					create_fleet = {
						effect = {
							set_owner = root
							create_ship = {
								random_existing_design = science
							}
							OWNER = {
								create_leader = {
									class = scientist
									species = owner_main_species
									name = random
									skill = 1
									traits = { trait = random_trait }
								}
							}
							assign_leader = last_created_leader
						}
					}
				}
				add_resource = {
					alloys = -100
				}
				add_resource = {
					energy = -200
				}
			}
		}
	}
}
namespace = ms_mech

planet_event = {
	id = ms_mech.1
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		save_event_target_as = ringyard_loc
		IF = {
			limit = { has_ring = yes }
			set_ring = no
		}
		create_ambient_object = { type = "ring_yard_amb" location = this }
		solar_system = {
			random_system_ambient_object = {
				limit = { is_same_value = last_created_ambient_object }
				set_location = {
					target = event_target:ringyard_loc
					distance = 0
					angle = 0
				}
			}
		}
		clear_global_event_target = ringyard_loc
	}
}

country_event = {
	id = ms_mech.3
	title = "ms_mech.3.name"
	desc = "ms_mech.3.desc"
	picture = GFX_evt_nuclear_explosion
	is_triggered_only = yes
	option = {
		name = ms_mech.3.a
		 add_minerals = 1500
		 add_influence = 50
	}
}

country_event = {
	id = ms_mech.4
	title = "ms_mech.4.name"
	desc = "ms_mech.4.desc"
	picture = GFX_evt_nuclear_explosion
	trigger = { any_planet_within_border = { has_planet_flag = ms_you_monster } }
	mean_time_to_happen = { days = 80 }
	immediate = {
		random_planet_within_border = {
			limit = { has_planet_flag = ms_you_monster }
			remove_planet_flag = ms_you_monster
		}
		every_country = {
			limit = { is_neighbor_of = from }
			add_opinion_modifier = { who = FROM modifier = opinion_industrial_genocide }
		}
	}
	option = {
		name = ms_mech.4.a
		custom_tooltip = ms_mech.4.tooltip
		trigger = { OR = { has_ethic = ethic_fanatic_militarist } }
		add_unity = 1000
	}
	option = {
		name = ms_mech.4.b
		custom_tooltip = ms_mech.4.tooltip
		trigger = { has_ethic = ethic_fanatic_pacifist }
		add_modifier = { modifier = "blew_up_some_dudes_aww" days = 720 }
	}
	option = {
		name = ms_mech.4.c
		custom_tooltip = ms_mech.4.tooltip
		trigger = { has_ethic = ethic_fanatic_xenophobe }
		add_modifier = { modifier = "blew_up_some_dudes_yay" days = 720 }
	}
	option = {
		name = ms_mech.4.d
		custom_tooltip = ms_mech.4.tooltip
		trigger = { has_ethic = ethic_fanatic_xenophobe has_ethic = ethic_militarist }
		add_modifier = { modifier = "blew_up_some_dudes_woo" days = 360 }
	}
	option = {
		name = ms_mech.4.e
		custom_tooltip = ms_mech.4.tooltip
		trigger = {
			NOT = {
				OR = {
					AND = { has_ethic = ethic_fanatic_xenophobe has_ethic = ethic_militarist }
					has_ethic = ethic_fanatic_xenophobe
					has_ethic = ethic_fanatic_pacifist
					has_ethic = ethic_fanatic_militarist
				}
			}
		}
	}
}

planet_event = {
	id = ms_mech.5
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		remove_megastructure = fromfromfrom
			root = {
				change_pc = pc_asteroid_accretion
				orbital_deposit_tile = { add_deposit = d_enormous2_mineral_deposit }
				space_owner = { country_event = { id = ms_mech.3 } }
				set_planet_flag = ms_planet_cracked
			}
	}
}
namespace = affinity_census

event = {
    id = affinity_census.1
    hide_window = yes
    is_triggered_only = yes

    immediate = {
        every_playable_country = {
            limit = {
                this = { has_tradition = tr_plentiful_affinity_finish }
            }
            IF = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 1
                    }
                }
                add_modifier = {
                    modifier = affinity_census1
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 2
                    }
                }
                add_modifier = {
                    modifier = affinity_census2
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 3
                    }
                }
                add_modifier = {
                    modifier = affinity_census3
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 4
                    }
                }
                add_modifier = {
                    modifier = affinity_census4
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 5
                    }
                }
                add_modifier = {
                    modifier = affinity_census5
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 6
                    }
                }
                add_modifier = {
                    modifier = affinity_census6
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 7
                    }
                }
                add_modifier = {
                    modifier = affinity_census7
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 8
                    }
                }
                add_modifier = {
                    modifier = affinity_census8
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 9
                    }
                }
                add_modifier = {
                    modifier = affinity_census9
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 10
                    }
                }
                add_modifier = {
                    modifier = affinity_census10
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 11
                    }
                }
                add_modifier = {
                    modifier = affinity_census11
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 12
                    }
                }
                add_modifier = {
                    modifier = affinity_census12
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 13
                    }
                }
                add_modifier = {
                    modifier = affinity_census13
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 14
                    }
                }
                add_modifier = {
                    modifier = affinity_census14
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 15
                    }
                }
                add_modifier = {
                    modifier = affinity_census15
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 16
                    }
                }
                add_modifier = {
                    modifier = affinity_census16
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 17
                    }
                }
                add_modifier = {
                    modifier = affinity_census17
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 18
                    }
                }
                add_modifier = {
                    modifier = affinity_census18
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count = 19
                    }
                }
                add_modifier = {
                    modifier = affinity_census19
                    days = 1800
                }
            }
            else_if = {
                limit = {
                    count_species = {
                        limit = { is_robotic_species = no }
                        count >= 20
                    }
                }
                add_modifier = {
                    modifier = affinity_census20
                    days = 1800
                }
            }
        }
    }
}
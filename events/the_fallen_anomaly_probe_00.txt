namespace = tf_anomaly_probe

#This ship event is the fallback event if all other probe anomalies are exhausted
ship_event = { 
	id = tf_anomaly_probe.100
	title = "tf_anomaly_probe.100.name"
	desc = tf_anomaly_probe.100.desc
	picture = GFX_evt_satellite_in_orbit
	show_sound = event_ship_bridge
	location = ROOT
	
	is_triggered_only = yes
	
	option = { 
		name = "understood"
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = 15
				min = 100
				max = 300
			}
		}
	}
}

#Inner Light Event
ship_event = { 
	id = tf_anomaly_probe.200
	title = "tf_anomaly_probe.200.name"
	desc = {
		trigger = {
			owner = { 
				NOR = { 
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				} 
			}
		}
		text = tf_anomaly_probe.200.desc
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = tf_anomaly_probe.200.desc.hive
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = tf_anomaly_probe.200.desc.mach
	}
	
	picture = GFX_evt_alien_ruins
	show_sound = event_ship_bridge
	location = ROOT
	
	is_triggered_only = yes
	
	#This Option is for Normal Empires, and Machine Empires that aren't determined exterminators or servitors
	option = {
		name = tf_anomaly_probe.200.normal_option
		trigger = { 
			owner = {
				NOT = { has_authority = auth_hive_mind } 
				NOR = { 
					has_civic = civic_machine_terminator
					has_civic = civic_machine_servitor
				}
			}
		}
		owner = {	
			add_monthly_resource_mult = {
				resource = society_research
				value = 15
				min = 200
				max = 600
			}
		}
	}
	
	#Option for Hive Minds
	option = {
		name = tf_anomaly_probe.200.hivemind_option
		trigger = { owner = { has_authority = auth_hive_mind } } 
		hidden_effect = {
			every_country = {
				limit = { 
					is_country_type = default 
					NOT = {
						has_ethic = ethic_gestalt_consciousness
					}
				}
				add_opinion_modifier = {
					modifier = opinion_tf_hive_empathy
					who = ROOT.owner
				}
			}
		}
		owner = {
			custom_tooltip = tf_anomaly_probe.200.hivemind.tooltip
		}	
	}
	
	# Option for Rogue Servitor
	option = {
		name = tf_anomaly_probe.200.servitor_option
		trigger = { owner = { has_civic = civic_machine_servitor } } 
		owner = { 
			capital_scope = {
				add_modifier = {
					modifier = pm_tf_inner_light_simulation
					days = -1
				}
			}
		}
	}
	
	#Determined Exterminator
	option = {
		name = tf_anomaly_probe.200.terminator_option
		trigger = { owner = { has_civic = civic_machine_terminator } } 
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = 15
				min = 200
				max = 600
			}
		}
	}	
}

# Probe Encountered Event #23
ship_event = {
	id = tf_anomaly_probe.300
	title = "tf_anomaly_probe.100.name"
	desc = tf_anomaly_probe.100.desc
	picture = GFX_evt_satellite_in_orbit
	show_sound = event_ship_bridge

	is_triggered_only = yes

	option = { 
		name = "understood"
	}
}
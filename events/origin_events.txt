namespace = origin_evt

#Plagued Society: Modifier
country_event = {
	id = origin_evt.0
	hide_window = yes
	
	trigger = {
		owner = {
			has_origin = origin_pandemic
			NOT = {
				has_country_flag = modifier_added
			}
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		capital_scope = { 
			add_modifier = {
				modifier = "pm_pandemic_past"
			}
		}
		set_country_flag = modifier_added
	}
}

#Plague Immunisation researched
country_event = {
	id = origin_evt.1
	title = "origin_evt.1.name"
	desc = "origin_evt.1.desc"
	picture = GFX_evt_genetic_modification
	
	trigger = {
		root = {
			has_technology = tech_immunisation
			NOT = {
				has_country_flag = immunised
			}
		}
	}
	
	mean_time_to_happen = {
		months = 2
	}
	
	immediate = {
		set_country_flag = immunised
	}
	option = {
		name = origin_evt.1.a
		modify_species = {
				species = this
				remove_trait = trait_plague_ridden
		}
	}
	option = {
		name = origin_evt.1.b
		modify_species = {
				species = this
				remove_trait = trait_plague_ridden
				add_trait = trait_strong_immune_system
		}
		set_country_flag = immunised
		trigger = {
			root = {
				has_technology = tech_gene_expressions
			}
		}
	}
}

#Planetary Cleansing researched
country_event = {
	id = origin_evt.2
	title = "origin_evt.2.name"
	desc = "origin_evt.2.desc"
	picture = GFX_evt_planet_beam
	
	trigger = {
		root = {
			has_technology = tech_cleansing
			NOT = {
				has_country_flag = cleansed
			}
		}
	}
	
	mean_time_to_happen = {
		months = 2
	}
	
	immediate = {
		set_country_flag = cleansed
	}
	option = {
		name = origin_evt.2.a
		hidden_effect = {
			capital_scope = {
				clear_planet_modifiers = yes
			}
		}
		capital_scope = { 
			add_modifier = {
				modifier = "pm_restored_planet"
			}
		}
	}
	option = {
		name = origin_evt.2.b
		capital_scope = {
			enable_special_project = {
				name = "PLAGUE_DEFENSES"
				location = this
				owner = root.owner
			}
		}
		hidden_effect = {
			capital_scope = {
				clear_planet_modifiers = yes
			}
		}
		capital_scope = { 
			add_modifier = {
				modifier = "pm_restored_planet"
			}
		}
	}
}

#Planetary Plague Defences
country_event = {
	id = origin_evt.3
	title = "origin_evt.3.name"
	desc = "origin_evt.3.desc"
	picture = GFX_evt_relic_world_building
	location = from
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = origin_evt.3.a
		set_country_flag = plague_defences
		capital_scope = { 
			add_modifier = {
				modifier = "pm_plague_defences"
			}
		}
	}
}

#QftS: Start
country_event = {
	id = origin_evt.6
	title = "origin_evt.6.name"
	desc = "origin_evt.6.desc"
	picture = GFX_evt_star_chart
	
	is_triggered_only = yes
	
	trigger = {
		owner = {
			has_origin = origin_shiva
			NOT = {
				has_country_flag = shiva_chain_started
			}
		}
	}
	
	fire_only_once = yes
	
	immediate = {
		add_resource = { unity = 500	}
	}
	option = {
		name = origin_evt.6.a
		begin_event_chain = {
			event_chain = shiva_system_chain
			target = this
		}
		set_country_flag = shiva_chain_started
	}
}
tech_gpm_tb_Seasonal_Flooding = {
	cost = @tier1cost1
	area = society
	tier = 1
	category = { new_worlds }
	prerequisites = { "tech_colonization_1" }
	weight = @tier1weight1
	
	weight_groups = {
		deposit_blockers
	}
	mod_weight_if_group_picked = {
		deposit_blockers = 0.5
	}
	
	weight_modifier = {
		modifier = {
			factor = 2
		}
		modifier = {
			factor = 0
			NOT = {
				any_owned_planet =  {
					has_deposit = "gpm_tb_Seasonal_Flooding"
				}
			}
		}
		modifier = {
			factor = 1.25
			research_leader = {
				area = society
				has_trait = "leader_trait_expertise_new_worlds"
			}
		}
		modifier = {
			factor = 0
			num_owned_planets < 2
		}
	}
	
	ai_weight = {
		modifier = {
			factor = 3
		}
		modifier = {
			factor = 0
			NOT = {
				any_owned_planet =  {
					has_deposit = "gpm_tb_Seasonal_Flooding"
				}
			}
		}
		modifier = {
			factor = 1.25
			research_leader = {
				area = society
				has_trait = "leader_trait_expertise_new_worlds"
			}
		}
		modifier = {
			factor = 0
			num_owned_planets < 2
		}	
	}
}

tech_gpm_tb_Locust_Plagues = {
	cost = @tier1cost1
	area = society
	tier = 1
	category = { new_worlds }
	prerequisites = { "tech_colonization_1" }
	weight = @tier1weight1
	
	weight_groups = {
		deposit_blockers
	}
	mod_weight_if_group_picked = {
		deposit_blockers = 0.5
	}
	
	weight_modifier = {
		modifier = {
			factor = 2
		}
		modifier = {
			factor = 0
			NOT = {
				any_owned_planet =  {
					has_deposit = "gpm_tb_Locust_Plagues"
				}
			}
		}
		modifier = {
			factor = 1.25
			research_leader = {
				area = society
				has_trait = "leader_trait_expertise_new_worlds"
			}
		}
		modifier = {
			factor = 0
			num_owned_planets < 2
		}
	}
	
	ai_weight = {
		modifier = {
			factor = 3
		}
		modifier = {
			factor = 0
			NOT = {
				any_owned_planet =  {
					has_deposit = "gpm_tb_Locust_Plagues"
				}
			}
		}
		modifier = {
			factor = 1.25
			research_leader = {
				area = society
				has_trait = "leader_trait_expertise_new_worlds"
			}
		}
		modifier = {
			factor = 0
			num_owned_planets < 2
		}	
	}
}

# tech_gpm_tb_Unusual_Formations = {
# 	cost = @tier1cost1
# 	area = society
# 	tier = 1
# 	category = { new_worlds }
# 	prerequisites = { "tech_colonization_1" }
# 	weight = @tier1weight1
	
# 	weight_groups = {
# 		deposit_blockers
# 	}
# 	mod_weight_if_group_picked = {
# 		deposit_blockers = 0.5
# 	}
	
# 	weight_modifier = {
# 		modifier = {
# 			factor = 2
# 		}
# 		modifier = {
# 			factor = 0
# 			NOT = {
# 				any_owned_planet =  {
# 					has_deposit = "gpm_tb_Unusual_Formations"
# 				}
# 			}
# 		}
# 		modifier = {
# 			factor = 1.25
# 			research_leader = {
# 				area = society
# 				has_trait = "leader_trait_expertise_new_worlds"
# 			}
# 		}
# 		modifier = {
# 			factor = 0
# 			num_owned_planets < 2
# 		}
# 	}
	
# 	ai_weight = {
# 		modifier = {
# 			factor = 3
# 		}
# 		modifier = {
# 			factor = 0
# 			NOT = {
# 				any_owned_planet =  {
# 					has_deposit = "gpm_tb_Unusual_Formations"
# 				}
# 			}
# 		}
# 		modifier = {
# 			factor = 1.25
# 			research_leader = {
# 				area = society
# 				has_trait = "leader_trait_expertise_new_worlds"
# 			}
# 		}
# 		modifier = {
# 			factor = 0
# 			num_owned_planets < 2
# 		}	
# 	}
# }

tech_gpm_tb_Toxic_Gas = {
	cost = @tier1cost1
	area = society
	tier = 1
	category = { new_worlds }
	prerequisites = { "tech_colonization_1" }
	weight = @tier1weight1
	
	weight_groups = {
		deposit_blockers
	}
	mod_weight_if_group_picked = {
		deposit_blockers = 0.5
	}
	
	weight_modifier = {
		modifier = {
			factor = 2
		}
		modifier = {
			factor = 0
			NOT = {
				any_owned_planet =  {
					has_deposit = "gpm_tb_Toxic_Gas"
				}
			}
		}
		modifier = {
			factor = 1.25
			research_leader = {
				area = society
				has_trait = "leader_trait_expertise_new_worlds"
			}
		}
		modifier = {
			factor = 0
			num_owned_planets < 2
		}
	}
	
	ai_weight = {
		modifier = {
			factor = 3
		}
		modifier = {
			factor = 0
			NOT = {
				any_owned_planet =  {
					has_deposit = "gpm_tb_Toxic_Gas"
				}
			}
		}
		modifier = {
			factor = 1.25
			research_leader = {
				area = society
				has_trait = "leader_trait_expertise_new_worlds"
			}
		}
		modifier = {
			factor = 0
			num_owned_planets < 2
		}	
	}
}

tech_gpm_arcane_deciphering = {
	cost = @tier3cost1
	area = physics
	tier = 2
	is_rare = yes
	category = { computing }	
	prerequisites = { "tech_space_construction" }
	weight = @tier2weight1
	
	
	modifier = {
		show_only_custom_tooltip = yes
		custom_tooltip = gpm_arcane_deciphering_desc
	}
	
	weight_modifier = {
		factor = 2
		modifier = {
			factor = 1.25
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_materials"
			}
		}
		modifier = {
			factor = 0
			NOR = {
				any_owned_planet = {
					OR = {
						has_deposit = gpm_tb_precursor_ruins_1
						has_deposit = gpm_tb_precursor_ruins_2
						has_deposit = gpm_tb_precursor_ruins_3
						has_deposit = gpm_tb_precursor_ruins_4
						has_deposit = gpm_tb_precursor_ruins_5
						has_deposit = gpm_tb_precursor_ruins_6
						has_deposit = gpm_tb_precursor_ruins_7
					}
				}				
				any_planet_within_border = {
					has_deposit = gpm_arcane_technology_deposit
				}	
			}
		}
		modifier = {
			factor = 0
			has_global_flag = gpm_arcane_technology_disabled	 # dont spawn crystals if arcane tech is disabled
		}
	}
	
	ai_weight = {
		factor = 5 #important resource
		modifier = {
			factor = 1.25
			research_leader = {
				area = physics
				has_trait = "leader_trait_expertise_materials"
			}
		}
	}
}
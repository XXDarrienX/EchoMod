curator_think_tank = {
	icon = "GFX_starbase_curator_think_tank"
	construction_days = 360

	potential = {
		exists = owner
		OR = {
			owner = { has_country_flag = curator_intro }
			solar_system = { has_star_flag = enclave }
		}
		owner = {
			NOR = {
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_machine_terminator
			}
		}
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_starport"
			has_starbase_size >= starbase_starport
		}
		custom_tooltip = {
			fail_text = "requires_curator"
			solar_system = {
				has_star_flag = enclave
				any_fleet_in_system = {
					exists = owner
					owner = {
						has_country_flag = curator_enclave_country
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = "requires_curator_agreement"
			solar_system = {
				has_star_flag = enclave
				any_fleet_in_system = {
					exists = owner
					owner = {
						has_country_flag = curator_enclave_country
						has_country_flag = think_tank@root.owner
					}
				}
			}
		}
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 100
		}

		produces = {
			physics_research = 10
			society_research = 10
			engineering_research = 10
		}

		produces = {
			trigger = {
				exists = owner
				owner = {
					is_galactic_community_member = yes
				}
				OR = {
					is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
				}
			}
			physics_research = 15
			society_research = 15
			engineering_research = 15
		}

		upkeep = {
			energy = 2
		}
	}

	ai_build_at_chokepoint = yes
	ai_build_outside_chokepoint = yes
	ai_weight = {
		weight = 150
	}
}

art_college = {
	icon = "GFX_starbase_artist_college"
	construction_days = 360

	potential = {
		exists = owner
		OR = {
			owner = { has_country_flag = enclave_artist_encountered }
			solar_system = { has_star_flag = enclave }
		}
		owner = {
			NOR = {
				has_valid_civic = civic_fanatic_purifiers
				has_valid_civic = civic_hive_devouring_swarm
				has_valid_civic = civic_machine_terminator
			}
		}
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_starport"
			has_starbase_size >= starbase_starport
		}
		custom_tooltip = {
			fail_text = "requires_artisans"
			solar_system = {
				has_star_flag = enclave
				any_fleet_in_system = {
					exists = owner
					owner = {
						is_same_value = event_target:artist_enclave_country
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = "requires_artist_agreement"
			solar_system = {
				has_star_flag = enclave
				any_fleet_in_system = {
					exists = owner
					owner = {
						is_same_value = event_target:artist_enclave_country
						has_country_flag = art_college@root.owner
					}
				}
			}
		}
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 100
		}

		produces = {
			unity = 20
		}

		produces = {
			trigger = {
				exists = owner
				owner = {
					is_galactic_community_member = yes
				}
				OR = {
					is_active_resolution = "resolution_galacticstudies_advanced_xenostudies"
					is_active_resolution = "resolution_galacticstudies_ethical_guideline_refactoring"
					is_active_resolution = "resolution_galacticstudies_extradimensional_experimentation"
				}
			}
			unity = 30
		}

		upkeep = {
			energy = 2
		}
	}

	ai_build_at_chokepoint = yes
	ai_build_outside_chokepoint = yes
	ai_weight = {
		weight = 150
	}
}

warp_fluctuator = {
	icon = "GFX_spaceport_module_atmospheric_manipulator"
	construction_days = 180

	potential = {
		exists = owner
		owner = { 
			has_technology = tech_hyper_drive_2
			is_regular_empire = yes
		}
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_starport"
			has_starbase_size >= starbase_starport
		}
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 100
		}

		upkeep = {
			energy = 2
		}
	}

	station_modifier = {
		starbase_trade_collection_range_add = 2
		ship_piracy_suppression_add = 5
	}

	show_in_tech = "tech_hyper_drive_2"

	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = {
		weight = 10
	}
}

warp_fluctuator_gestalt = {
	icon = "GFX_spaceport_module_atmospheric_manipulator"
	construction_days = 180

	potential = {
		exists = owner
		owner = { 
			has_technology = tech_hyper_drive_2
			is_gestalt = yes
		}
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_starport"
			has_starbase_size >= starbase_starport
		}
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 100
		}

		upkeep = {
			energy = 2
		}
	}

	equipped_component = "STARBASE_AURA_WARP_FLUCTUATOR"
	show_in_tech = "tech_hyper_drive_2"

	ai_build_at_chokepoint = yes
	ai_build_outside_chokepoint = no
	ai_weight = {
		weight = 10
	}
}

nebula_refinery = {
	icon = "GFX_spaceport_nebula_refinery"
	construction_days = 360

	potential = {
		exists = owner
		owner = { has_technology = tech_space_mining_1 }
	}

	possible = {
		custom_tooltip = {
			fail_text = "requires_starport"
			has_starbase_size >= starbase_starport
		}
		custom_tooltip = {
			fail_text = "requires_nebula"
			star = { is_inside_nebula = yes }
		}
	}

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 100
		}

		produces = {
			minerals = 20
		}

		upkeep = {
			energy = 2
		}
	}

	show_in_tech = "tech_space_mining_1"

	ai_build_at_chokepoint = yes
	ai_build_outside_chokepoint = yes
	ai_weight = {
		weight = 150
	}
}

resource_silo = {
	icon = "GFX_spaceport_module_resource_silo"
	construction_days = 180

	resources = {
		category = starbase_buildings
		cost = {
			alloys = 50
		}
	}

	country_modifier = {
		country_resource_max_add = 5000
	}

	ai_build_at_chokepoint = no
	ai_build_outside_chokepoint = yes
	ai_weight = {
		weight = 50
	}
}
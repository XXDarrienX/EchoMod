is_plantoid = {
	species = {
		is_archetype = PLANTOID
	}
}

is_plantoid_empire = {
	owner_species = { is_plantoid = yes }
}

is_organic_species = {
	species = {
		OR = {
			is_archetype = BIOLOGICAL # original trigger did not include pre-sapient classes
			is_archetype = LITHOID
			is_archetype = PLANTOID
		}
	}
}

country_uses_food = {
	OR = {
		NOR = {
			has_authority = auth_machine_intelligence
			is_lithoid_empire = yes
			is_plantoid_empire = yes
		}
		AND = {
			is_lithoid_empire = yes
			NOR = {
				has_country_flag = non_lithoid_subspecies
				any_owned_pop = {
					is_organic_species = yes
					is_lithoid = no
				}
				any_owned_planet = {
					OR = {
						num_districts = { type = district_farming value > 0 }
						num_districts = { type = district_rw_farming value > 0 }
					}
				}
			}
		}
		AND = {
			is_plantoid_empire = yes
			owner_species = {
				NOT = { has_trait = trait_carnivorous_plant }
			}
			NOR = {
				# has_country_flag = non_lithoid_subspecies
				any_owned_pop = {
					is_organic_species = yes
					is_lithoid = no
					is_plantoid = no
				}
				# any_owned_planet = {
				# 	OR = {
				# 		num_districts = { type = district_farming value > 0 }
				# 		num_districts = { type = district_rw_farming value > 0 }
				# 	}
				# }
			}
		}
		has_valid_civic = civic_machine_servitor
		has_valid_civic = civic_machine_assimilator
		AND = {
			has_authority = auth_machine_intelligence
			NOT = { has_valid_civic = civic_machine_terminator }
		}
	}
}

is_livestock = {
	has_trait = trait_livestock
}

livestock_job_check_trigger = {
	custom_tooltip = WORKER_JOB_TRIGGER
	hidden_trigger = {
		exists = owner
		is_being_purged = no
		is_being_assimilated = no
		NOT = { has_trait = trait_livestock }
		NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
		NAND = {
			has_citizenship_type = { type = citizenship_slavery }
			has_slavery_type = { type = slavery_matrix }
		}
	}
}

ruler_job_check_trigger = {
	custom_tooltip = RULER_JOB_TRIGGER
	hidden_trigger = {
		exists = owner
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		NOT = { has_trait = trait_livestock }
		NOT = { has_trait = trait_syncretic_proles }
		NOT = { has_trait = trait_nerve_stapled }
		OR = {
			NOT = { has_trait = trait_mechanical }
			AND = {
				owner = { has_technology = tech_synthetic_workers }
				owner = { has_policy_flag = ai_full_rights }
			}
		}
		NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
	}
}

complex_specialist_job_check_trigger = {
	specialist_job_check_trigger = yes
	hidden_trigger = {
		exists = owner
		NOT = { has_trait = trait_livestock }
		OR = {
			NOT = { has_trait = trait_mechanical }
			AND = {
				owner = { has_technology = tech_synthetic_workers }
				owner = { NOT = { has_policy_flag = ai_outlawed } }
			}
		}
	}
}

specialist_job_check_trigger = {
	custom_tooltip = SPECIALIST_JOB_TRIGGER
	hidden_trigger = {
		exists = owner
		is_enslaved = no
		is_being_purged = no
		is_being_assimilated = no
		NOT = { has_trait = trait_syncretic_proles }
		NOT = { has_trait = trait_nerve_stapled }
		NOT = { has_trait = trait_livestock }
		OR = {
			NOT = { has_trait = trait_mechanical }
			owner = { has_technology = tech_droid_workers }
		}
		NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
	}
}

entertainer_job_check_trigger = {
	custom_tooltip = SPECIALIST_JOB_TRIGGER
	hidden_trigger = {
		exists = owner
		OR = {
			is_enslaved = no
			has_slavery_type = { type = slavery_domestic }
		}
		is_being_purged = no
		is_being_assimilated = no
		NOT = { has_trait = trait_syncretic_proles }
		NOT = { has_trait = trait_nerve_stapled }
		NOT = { has_trait = trait_livestock }
		OR = {
			NOT = { has_trait = trait_mechanical }
			owner = { has_technology = tech_droid_workers }
		}
		NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
	}
}

battle_thrall_job_check_trigger = {
	custom_tooltip = SPECIALIST_JOB_TRIGGER
	hidden_trigger = {
		exists = owner
		OR = {
			is_enslaved = no
			has_slavery_type = { type = slavery_military }
		}
		is_being_purged = no
		is_being_assimilated = no
		NOT = { has_trait = trait_nerve_stapled }
		NOT = { has_trait = trait_livestock }
		OR = {
			NOT = { has_trait = trait_mechanical }
			owner = { has_technology = tech_droid_workers }
		}
		NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
	}
}

complex_worker_job_check_trigger = {
	worker_job_check_trigger = yes
	hidden_trigger = {
		exists = owner
		NOT = { has_trait = trait_livestock }
		OR = {
			NOT = { has_trait = trait_mechanical }
			owner = { has_technology = tech_droid_workers }
		}
	}
}

worker_job_check_trigger = {
	custom_tooltip = WORKER_JOB_TRIGGER
	hidden_trigger = {
		exists = owner
		is_being_purged = no
		is_being_assimilated = no
		NOT = { has_trait = trait_livestock }
		NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
		NAND = {
			has_citizenship_type = { type = citizenship_slavery }
			OR = {
				has_slavery_type = { type = slavery_livestock }
				has_slavery_type = { type = slavery_matrix }
			}
		}
	}
}

drone_job_check_trigger = {
	custom_tooltip = DRONE_JOB_TRIGGER
	hidden_trigger = {
		exists = owner
		owner = { is_gestalt = yes }
		is_being_purged = no
		is_enslaved = no
		is_being_assimilated = no
		NOT = { has_trait = trait_livestock }
		NOT = { has_citizenship_type = { type = citizenship_organic_trophy } }
	}
}

@base_moon_distance = 10

# Void Cloud Home System
hostile_init_09 = {
	class = sc_black_hole
	
	usage = misc_system_init
	usage_odds = {
		base = 2
		modifier = {
			factor = 0
			NOT = { is_in_cluster = resource_cluster_2 }
		}
		modifier = {
            factor = 0
            has_star_flag = empire_cluster
        }
        modifier = {
			factor = 0
			is_bottleneck_system = yes
		}
	}

	flags = { hostile_system void2_system }
	max_instances = 1
	spawn_chance = 1000
	planet = {
		class = star
		orbit_distance = 0
	}
	
	change_orbit = 60
	
	planet = {
		count = { min = 0 max = 1 }
		class = "pc_broken"
		size = { min = 10 max = 15 }
		
		init_effect = { prevent_anomaly = yes }
	}
	
	change_orbit = 20
	
	planet = {
		count = { min = 0 max = 1 }
		class = "pc_barren_cold"
		size = { min = 10 max = 20 }
	}

	init_effect = {
		create_cloud_country = yes
		random_system_planet = {
			limit = { is_star = yes }
			save_event_target_as = voidhome_star
			set_deposit = d_physics_10
			event_target:cloud_country = {
				save_event_target_as = voidhome_owner
				create_fleet = {
					name = "NAME_Abyssal_Host"
					effect = {
						set_owner = event_target:cloud_country
						while = {
							count = 4
							create_ship = {
								name = ""
								design = "NAME_Cloud_Entity"
							}
						}
						set_location = event_target:voidhome_star
						set_fleet_stance = aggressive
						set_aggro_range_measure_from = return_point
						set_aggro_range = 150
					}
				}
				create_fleet = {
					name = "NAME_Chasmal_Horde"
					effect = {
						set_owner = event_target:cloud_country
						while = {
							count = 4
							create_ship = {
								name = ""
								design = "NAME_Cloud_Entity"
							}
						}
						set_location = event_target:voidhome_star
						set_fleet_stance = aggressive
						set_aggro_range_measure_from = return_point
						set_aggro_range = 150
					}
				}
			}
		}
	}
}

# Tiyanki
hostile_init_15 = {
	class = "rl_standard_stars"
	
	usage = misc_system_init
	usage_odds = {
		base = 4
		modifier = {
			factor = 0.1
			NOT = { is_in_cluster = resource_cluster_5 }
		}
		modifier = {
            factor = 0
            has_star_flag = empire_cluster
        }
	}

	flags = { tiyanki_home_system }
	spawn_chance = 100
	
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	
	change_orbit = 45
	
	planet = {
		count = { min = 0 max = 1 }
		orbit_distance = 10
		orbit_angle = { min = 90 max = 270 }
	}
	
	planet = {
		count = { min = 1 max = 2 }
		orbit_distance = 60
		class = pc_gas_giant
		orbit_angle = { min = 90 max = 270 }
		size = 25
		
		change_orbit = @base_moon_distance
		
		moon = {
			count = { min = 1 max = 4 }
			size = { min = 8 max = 20 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 6
		}
	}
	
	change_orbit = 20
	
	planet = {
		count = { min = 0 max = 2 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
	}

	init_effect = {
		create_tiyanki_country = yes
		random_system_planet = {
			limit = { is_planet_class = pc_gas_giant }
			save_event_target_as = giant
			event_target:tiyanki_country = {
				save_event_target_as = tiyanki_country2
				create_fleet = {
					name = "NAME_Tiyanki_Space_Whale"
					effect = {
						set_owner = event_target:tiyanki_country
						create_ship = {
							name = "NAME_Cow"
							design = "NAME_Tiyanki_Cow"
						}
						create_ship = {
							name = "NAME_Bull"
							design = "NAME_Tiyanki_Bull"
						}
						create_ship = {
							name = "NAME_Calf"
							design = "NAME_Tiyanki_Calf"
						}
						set_location = event_target:giant
						set_fleet_stance = passive
						set_aggro_range_measure_from = return_point
						set_aggro_range = 0
						queue_actions = {
							wait = { # Cooldown until they start moving
								duration = 320
								random = 80
							}
						}
					}
				}
			}
		}
	}
}

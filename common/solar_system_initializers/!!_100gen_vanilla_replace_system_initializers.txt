@base_moon_distance = 10
 # Guardians of Zanaam
special_init_06 = {
	class = "rl_standard_stars"
	asteroid_belt = { type = rocky_asteroid_belt radius = 150 }
	usage = misc_system_init
	usage_odds = {
		base = 2000000
		modifier = { factor = 0 is_bottleneck_system = yes }
	}
	max_instances = 1
	 #scaled_#spawn_chance = 3	# scales by galaxy size (1000 stars = 10x base)
	flags = { guardians_of_zanaam hostile_system }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	change_orbit = 45
	planet = {
		count = 1
		class = "pc_broken"
		size = 25
		orbit_angle = { min = 90 max = 270 }
		init_effect = { prevent_anomaly = yes }
	}
	planet = {
		name = NAME_Zanaam
		count = 1
		orbit_distance = 30
		class = "pc_gaia"
		orbit_angle = { min = 90 max = 270 }
		size = 25
		init_effect = {
			save_event_target_as = zanaam_planet
			random_tile = {
				limit = { has_blocker = no has_building = no }
				set_building = "building_zanaam_obelisk"
			}
			create_country = { name = "NAME_Guardians_of_Zanaam" type = faction }
			last_created_country = {
				set_country_flag = zanaam_country
				create_fleet = {
					name = "NAME_Guardians_of_Zanaam"
					settings = { spawn_debris = no }
					effect = {
						set_owner = PREV
						set_fleet_flag = zanaam_fleet
						create_ship = { name = "NAME_Defensive_Alpha" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Beta" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Gamma" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Delta" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Epsilon" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Zeta" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Eta" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Theta" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Iota" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Kappa" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Lambda" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Mu" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Nu" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Ksi" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Omicron" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Pi" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Rho" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Sigma" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Tau" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Upsilon" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Phi" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Chi" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Psi" design = "NAME_Guardian" }
						create_ship = { name = "NAME_Defensive_Omega" design = "NAME_Guardian" }
						set_location = event_target:zanaam_planet
						add_modifier = { modifier = sanctuary_power days = -1 }
					}
				}
			}
		}
	}
	change_orbit = 10
	planet = {
		count = 1
		orbit_distance = 20
		class = "pc_broken"
		orbit_angle = { min = 90 max = 270 }
		size = 25
		init_effect = { prevent_anomaly = yes }
	}
	planet = {
		count = 1
		orbit_distance = 20
		class = "pc_broken"
		orbit_angle = { min = 90 max = 270 }
		size = 25
		init_effect = { prevent_anomaly = yes }
	}
	init_effect = {
		while = {
			count = 6
			create_ambient_object = { type = "abandoned_ship_2_object" location = solar_system }
		}
	}
}
 ### The Sanctuary
sanctuary_system = {
	asteroid_belt = { type = rocky_asteroid_belt radius = 150 }
	usage = misc_system_init
	usage_odds = 2000000
	max_instances = 1
	flags = { sanctuary_system }
	 #scaled_#spawn_chance = 2	# scales by galaxy size (1000 stars = 10x base)
	name = "NAME_Sanctuary"
	class = "sc_g"
	planet = {
		class = star
		orbit_distance = 0
		init_effect = {
			create_country = { name = "NAME_Sanctuary" type = faction }
			last_created_country = {
				save_global_event_target_as = sanctuary
				create_fleet = {
					name = "NAME_Sanctuary_Core"
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = "NAME_Administrator"
							design = "NAME_Sanctuary_Core"
							graphical_culture = "fallen_empire_03"
						}
						set_location = {
							target = PREVPREV
							distance = 25
							angle = random
						}
						add_modifier = { modifier = sanctuary_power days = -1 }
						save_event_target_as = sanctuary_core
						set_fleet_flag = sanctuary_core
					}
				}
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_2"
							graphical_culture = "fallen_empire_03"
						}
						set_location = {
							target = event_target:sanctuary_core
							distance = 8
							angle = 90
						}
					}
				}
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_2"
							graphical_culture = "fallen_empire_03"
						}
						set_location = {
							target = event_target:sanctuary_core
							distance = 8
							angle = 180
						}
					}
				}
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_2"
							graphical_culture = "fallen_empire_03"
						}
						set_location = {
							target = event_target:sanctuary_core
							distance = 8
							angle = 270
						}
					}
				}
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_2"
							graphical_culture = "fallen_empire_03"
						}
						set_location = {
							target = event_target:sanctuary_core
							distance = 8
							angle = 0
						}
					}
				}
			}
		}
	}
	change_orbit = 45
	planet = {
		class = "pc_ringworld_habitable"
		name = "NAME_Sanctuary_A"
		orbit_angle = 30
		orbit_distance = 0
		tile_blockers = none
		modifiers = none
		init_effect = {
			prevent_anomaly = yes
			last_created_country = {
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_1"
							graphical_culture = "fallen_empire_03"
						}
						set_location = {
							target = PREVPREV
							distance = 1
							angle = random
						}
					}
				}
			}
			create_species = {
				name = random
				class = MAM
				portrait = random
				traits = {
					 #ideal_planet_class = "pc_continental"
					trait = random_traits
				}
				homeworld = this
			}
			create_country = {
				name = random
				authority = random
				civics = { civic = civic_landed_nobility civic = civic_flat_world_theory }
				species = last_created
				ethos = random
				flag = {
					icon = { category = "special" file = "primitive.dds" }
					background = { category = "backgrounds" file = "new_dawn.dds" }
					colors = {
						"turquoise"
						"green"
						"null"
						"null"
					}
				}
				type = primitive
			}
			last_created_country = {
				random_list = {
					20 = {
						set_country_flag = stone_age
						set_primitive_age = stone_age
						change_government = {
							authority = random
							civics = { civic = civic_secret_of_fire civic = civic_the_wheel }
						}
					}
					20 = {
						set_country_flag = bronze_age
						set_primitive_age = bronze_age
						change_government = {
							authority = random
							civics = { civic = civic_secret_of_fire civic = civic_the_wheel }
						}
					}
					20 = { set_country_flag = iron_age set_primitive_age = iron_age }
					20 = { set_country_flag = late_medieval_age set_primitive_age = late_medieval_age }
					20 = { set_country_flag = steam_age set_primitive_age = steam_age }
				}
			}
			set_owner = last_created_country
			set_capital = yes
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
			}
			if = {
				limit = {
					last_created_country = {
						OR = {
							has_country_flag = iron_age
							has_country_flag = renaissance_age
							has_country_flag = steam_age
						}
					}
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
			if = {
				limit = {
					last_created_country = {
						OR = { has_country_flag = renaissance_age has_country_flag = steam_age }
					}
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
			if = {
				limit = { last_created_country = { has_country_flag = steam_age } }
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_factory"
					set_deposit = d_mineral_deposit
				}
				every_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
				while = {
					count = 3
					random_tile = {
						limit = {
							has_blocker = no
							has_building = no
							has_grown_pop = no
						}
						set_blocker = tb_decrepit_dwellings
					}
					random_tile = {
						limit = {
							has_blocker = no
							has_building = no
							has_grown_pop = no
						}
						set_blocker = tb_failing_infrastructure
					}
				}
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
			if = {
				limit = { last_created_country = { has_country_flag = stone_age } }
				every_tile = {
					limit = { has_building = "building_primitive_farm" }
					remove_building = yes
				}
			}
			last_created_country = {
				if = {
					limit = { has_country_flag = stone_age }
					PREV = {
						create_army = {
							name = "NAME_Primitive_Army"
							owner = last_created
							species = last_created
							type = "primitive_army"
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = bronze_age }
					PREV = {
						create_army = {
							name = "NAME_Primitive_Army"
							owner = last_created
							species = last_created
							type = "primitive_army"
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = iron_age }
					PREV = {
						while = {
							count = 2
							create_army = {
								name = "NAME_Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = late_medieval_age }
					PREV = {
						while = {
							count = 3
							create_army = {
								name = "NAME_Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = renaissance_age }
					PREV = {
						while = {
							count = 4
							create_army = {
								name = "Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = steam_age }
					PREV = {
						while = {
							count = 3
							create_army = {
								name = "NAME_Industrial_Army"
								owner = last_created
								species = last_created
								type = "industrial_army"
							}
						}
					}
					break = yes
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_tech"
		name = "NAME_Sanctuary-B"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			last_created_country = {
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_2"
							graphical_culture = "fallen_empire_03"
						}
						set_location = PREVPREV
					}
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_seam"
		name = "NAME_Sanctuary-C"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			last_created_country = {
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_2"
							graphical_culture = "fallen_empire_03"
						}
						set_location = PREVPREV
					}
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_habitable"
		name = "NAME_Sanctuary-D"
		orbit_angle = 30
		orbit_distance = 0
		tile_blockers = none
		modifiers = none
		init_effect = {
			prevent_anomaly = yes
			last_created_country = {
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_1"
							graphical_culture = "fallen_empire_03"
						}
						set_location = {
							target = PREVPREV
							distance = 1
							angle = random
						}
					}
				}
			}
			create_species = {
				name = random
				class = REP
				portrait = random
				traits = {
					 #ideal_planet_class = "pc_desert"
					trait = random_traits
				}
				homeworld = this
			}
			create_country = {
				name = random
				authority = random
				civics = { civic = civic_landed_nobility civic = civic_flat_world_theory }
				species = last_created
				ethos = random
				flag = {
					icon = { category = "special" file = "primitive.dds" }
					background = { category = "backgrounds" file = "new_dawn.dds" }
					colors = {
						"turquoise"
						"green"
						"null"
						"null"
					}
				}
				type = primitive
			}
			last_created_country = {
				random_list = {
					20 = {
						set_country_flag = stone_age
						set_primitive_age = stone_age
						change_government = {
							authority = random
							civics = { civic = civic_secret_of_fire civic = civic_the_wheel }
						}
					}
					20 = {
						set_country_flag = bronze_age
						set_primitive_age = bronze_age
						change_government = {
							authority = random
							civics = { civic = civic_secret_of_fire civic = civic_the_wheel }
						}
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"green"
								"dark_green"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = iron_age
						set_primitive_age = iron_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"purple"
								"dark_purple"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = late_medieval_age
						set_primitive_age = late_medieval_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"light_blue"
								"blue"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = renaissance_age
						set_primitive_age = renaissance_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"pink"
								"burgundy"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = steam_age
						set_primitive_age = steam_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"orange"
								"red"
								"null"
								"null"
							}
						}
					}
				}
			}
			set_owner = last_created_country
			set_capital = yes
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
			}
			if = {
				limit = {
					last_created_country = {
						OR = {
							has_country_flag = iron_age
							has_country_flag = renaissance_age
							has_country_flag = steam_age
						}
					}
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
			if = {
				limit = {
					last_created_country = {
						OR = { has_country_flag = renaissance_age has_country_flag = steam_age }
					}
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
			if = {
				limit = { last_created_country = { has_country_flag = steam_age } }
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_factory"
					set_deposit = d_mineral_deposit
				}
				every_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
				while = {
					count = 3
					random_tile = {
						limit = {
							has_blocker = no
							has_building = no
							has_grown_pop = no
						}
						set_blocker = tb_decrepit_dwellings
					}
					random_tile = {
						limit = {
							has_blocker = no
							has_building = no
							has_grown_pop = no
						}
						set_blocker = tb_failing_infrastructure
					}
				}
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
			if = {
				limit = { last_created_country = { has_country_flag = stone_age } }
				every_tile = {
					limit = { has_building = "building_primitive_farm" }
					remove_building = yes
				}
			}
			last_created_country = {
				if = {
					limit = { has_country_flag = stone_age }
					PREV = {
						create_army = {
							name = "NAME_Primitive_Army"
							owner = last_created
							species = last_created
							type = "primitive_army"
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = bronze_age }
					PREV = {
						create_army = {
							name = "NAME_Primitive_Army"
							owner = last_created
							species = last_created
							type = "primitive_army"
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = iron_age }
					PREV = {
						while = {
							count = 2
							create_army = {
								name = "NAME_Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = late_medieval_age }
					PREV = {
						while = {
							count = 3
							create_army = {
								name = "NAME_Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = renaissance_age }
					PREV = {
						while = {
							count = 4
							create_army = {
								name = "NAME_Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = steam_age }
					PREV = {
						while = {
							count = 3
							create_army = {
								name = "NAME_Industrial_Army"
								owner = last_created
								species = last_created
								type = "industrial_army"
							}
						}
					}
					break = yes
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_tech"
		name = "NAME_Sanctuary-E"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			last_created_country = {
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_2"
							graphical_culture = "fallen_empire_03"
						}
						set_location = PREVPREV
					}
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_seam"
		name = "NAME_Sanctuary-F"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			last_created_country = {
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_2"
							graphical_culture = "fallen_empire_03"
						}
						set_location = PREVPREV
					}
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_habitable"
		name = "NAME_Sanctuary-G"
		orbit_angle = 30
		orbit_distance = 0
		tile_blockers = none
		modifiers = none
		init_effect = {
			prevent_anomaly = yes
			last_created_country = {
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_1"
							graphical_culture = "fallen_empire_03"
						}
						set_location = {
							target = PREVPREV
							distance = 1
							angle = random
						}
					}
				}
			}
			create_species = {
				name = random
				class = MOL
				portrait = random
				traits = {
					 #ideal_planet_class = "pc_ocean"
					trait = random_traits
				}
				homeworld = this
			}
			create_country = {
				name = random
				authority = random
				civics = { civic = civic_landed_nobility civic = civic_flat_world_theory }
				species = last_created
				ethos = random
				flag = {
					icon = { category = "special" file = "primitive.dds" }
					background = { category = "backgrounds" file = "new_dawn.dds" }
					colors = {
						"turquoise"
						"green"
						"null"
						"null"
					}
				}
				type = primitive
			}
			last_created_country = {
				random_list = {
					20 = {
						set_country_flag = stone_age
						set_primitive_age = stone_age
						change_government = {
							authority = random
							civics = { civic = civic_secret_of_fire civic = civic_the_wheel }
						}
					}
					20 = {
						set_country_flag = bronze_age
						set_primitive_age = bronze_age
						change_government = {
							authority = random
							civics = { civic = civic_secret_of_fire civic = civic_the_wheel }
						}
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"green"
								"dark_green"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = iron_age
						set_primitive_age = iron_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"purple"
								"dark_purple"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = late_medieval_age
						set_primitive_age = late_medieval_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"light_blue"
								"blue"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = renaissance_age
						set_primitive_age = renaissance_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"pink"
								"burgundy"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = steam_age
						set_primitive_age = steam_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"orange"
								"red"
								"null"
								"null"
							}
						}
					}
				}
			}
			set_owner = last_created_country
			set_capital = yes
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
			}
			if = {
				limit = {
					last_created_country = {
						OR = {
							has_country_flag = iron_age
							has_country_flag = renaissance_age
							has_country_flag = steam_age
						}
					}
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
			if = {
				limit = {
					last_created_country = {
						OR = { has_country_flag = renaissance_age has_country_flag = steam_age }
					}
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
			if = {
				limit = { last_created_country = { has_country_flag = steam_age } }
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_factory"
					set_deposit = d_mineral_deposit
				}
				every_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
				while = {
					count = 3
					random_tile = {
						limit = {
							has_blocker = no
							has_building = no
							has_grown_pop = no
						}
						set_blocker = tb_decrepit_dwellings
					}
					random_tile = {
						limit = {
							has_blocker = no
							has_building = no
							has_grown_pop = no
						}
						set_blocker = tb_failing_infrastructure
					}
				}
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_mineral_deposit
				}
			}
			if = {
				limit = { last_created_country = { has_country_flag = stone_age } }
				every_tile = {
					limit = { has_building = "building_primitive_farm" }
					remove_building = yes
				}
			}
			last_created_country = {
				if = {
					limit = { has_country_flag = stone_age }
					PREV = {
						create_army = {
							name = "NAME_Primitive_Army"
							owner = last_created
							species = last_created
							type = "primitive_army"
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = bronze_age }
					PREV = {
						create_army = {
							name = "NAME_Primitive_Army"
							owner = last_created
							species = last_created
							type = "primitive_army"
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = iron_age }
					PREV = {
						while = {
							count = 2
							create_army = {
								name = "NAME_Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = late_medieval_age }
					PREV = {
						while = {
							count = 3
							create_army = {
								name = "NAME_Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = renaissance_age }
					PREV = {
						while = {
							count = 4
							create_army = {
								name = "NAME_Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = steam_age }
					PREV = {
						while = {
							count = 3
							create_army = {
								name = "NAME_Industrial_Army"
								owner = last_created
								species = last_created
								type = "industrial_army"
							}
						}
					}
					break = yes
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_tech"
		name = "NAME_Sanctuary-H"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			last_created_country = {
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_2"
							graphical_culture = "fallen_empire_03"
						}
						set_location = PREVPREV
					}
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_seam_damaged"
		name = "NAME_Sanctuary-I"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			create_ambient_object = { type = "medium_debris_01_object" location = THIS }
		}
	}
	planet = {
		class = "pc_ringworld_habitable"
		name = "NAME_Sanctuary-J"
		orbit_angle = 30
		orbit_distance = 0
		tile_blockers = none
		modifiers = none
		init_effect = {
			prevent_anomaly = yes
			last_created_country = {
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_1"
							graphical_culture = "fallen_empire_03"
						}
						set_location = {
							target = PREVPREV
							distance = 1
							angle = random
						}
					}
				}
			}
			create_species = {
				name = random
				class = FUN
				portrait = random
				traits = {
					 #ideal_planet_class = "pc_tundra"
					trait = random_traits
				}
				homeworld = this
			}
			create_country = {
				name = random
				authority = random
				civics = { civic = civic_landed_nobility civic = civic_flat_world_theory }
				species = last_created
				ethos = random
				flag = {
					icon = { category = "special" file = "primitive.dds" }
					background = { category = "backgrounds" file = "new_dawn.dds" }
					colors = {
						"turquoise"
						"green"
						"null"
						"null"
					}
				}
				type = primitive
			}
			last_created_country = {
				random_list = {
					20 = {
						set_country_flag = stone_age
						set_primitive_age = stone_age
						change_government = {
							authority = random
							civics = { civic = civic_secret_of_fire civic = civic_the_wheel }
						}
					}
					20 = {
						set_country_flag = bronze_age
						set_primitive_age = bronze_age
						change_government = {
							authority = random
							civics = { civic = civic_secret_of_fire civic = civic_the_wheel }
						}
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"green"
								"dark_green"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = iron_age
						set_primitive_age = iron_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"purple"
								"dark_purple"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = late_medieval_age
						set_primitive_age = late_medieval_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"light_blue"
								"blue"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = renaissance_age
						set_primitive_age = renaissance_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"pink"
								"burgundy"
								"null"
								"null"
							}
						}
					}
					20 = {
						set_country_flag = steam_age
						set_primitive_age = steam_age
						change_country_flag = {
							icon = { category = "special" file = "primitive.dds" }
							background = { category = "backgrounds" file = "new_dawn.dds" }
							colors = {
								"orange"
								"red"
								"null"
								"null"
							}
						}
					}
				}
			}
			set_owner = last_created_country
			set_capital = yes
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
			}
			if = {
				limit = {
					last_created_country = {
						OR = {
							has_country_flag = iron_age
							has_country_flag = renaissance_age
							has_country_flag = steam_age
						}
					}
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
			if = {
				limit = {
					last_created_country = {
						OR = { has_country_flag = renaissance_age has_country_flag = steam_age }
					}
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
			if = {
				limit = { last_created_country = { has_country_flag = steam_age } }
				random_tile = {
					limit = {
						has_blocker = no
						has_grown_pop = no
						has_growing_pop = no
					}
					create_pop = { species = last_created }
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_factory"
					set_deposit = d_mineral_deposit
				}
				every_tile = {
					limit = { has_blocker = yes }
					remove_blocker = yes
				}
				while = {
					count = 3
					random_tile = {
						limit = {
							has_blocker = no
							has_building = no
							has_grown_pop = no
						}
						set_blocker = tb_decrepit_dwellings
					}
					random_tile = {
						limit = {
							has_blocker = no
							has_building = no
							has_grown_pop = no
						}
						set_blocker = tb_failing_infrastructure
					}
				}
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
			if = {
				limit = { last_created_country = { has_country_flag = stone_age } }
				every_tile = {
					limit = { has_building = "building_primitive_farm" }
					remove_building = yes
				}
			}
			last_created_country = {
				if = {
					limit = { has_country_flag = stone_age }
					PREV = {
						create_army = {
							name = "NAME_Primitive_Army"
							owner = last_created
							species = last_created
							type = "primitive_army"
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = bronze_age }
					PREV = {
						create_army = {
							name = "NAME_Primitive_Army"
							owner = last_created
							species = last_created
							type = "primitive_army"
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = iron_age }
					PREV = {
						while = {
							count = 2
							create_army = {
								name = "NAME_Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = late_medieval_age }
					PREV = {
						while = {
							count = 3
							create_army = {
								name = "NAME_Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = renaissance_age }
					PREV = {
						while = {
							count = 4
							create_army = {
								name = "NAME_Primitive_Army"
								owner = last_created
								species = last_created
								type = "primitive_army"
							}
						}
					}
					break = yes
				}
				if = {
					limit = { has_country_flag = steam_age }
					PREV = {
						while = {
							count = 3
							create_army = {
								name = "NAME_Industrial_Army"
								owner = last_created
								species = last_created
								type = "industrial_army"
							}
						}
					}
					break = yes
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_tech"
		name = "NAME_Sanctuary-K"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			last_created_country = {
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_2"
							graphical_culture = "fallen_empire_03"
						}
						set_location = PREVPREV
					}
				}
			}
		}
	}
	planet = {
		class = "pc_ringworld_seam"
		name = "NAME_Sanctuary-L"
		orbit_angle = 30
		orbit_distance = 0
		init_effect = {
			last_created_country = {
				create_fleet = {
					settings = { spawn_debris = no }
					effect = {
						set_owner = event_target:sanctuary
						create_ship = {
							name = random
							design = "NAME_Defensive_A_2"
							graphical_culture = "fallen_empire_03"
						}
						set_location = PREVPREV
					}
				}
			}
		}
	}
	change_orbit = 105
	planet = {
		count = { min = 1 max = 4 }
		class = pc_asteroid
		orbit_distance = 0
		orbit_angle = { min = 90 max = 270 }
	}
	change_orbit = 45
	planet = {
		class = pc_gas_giant
		orbit_angle = { min = 90 max = 270 }
		size = 25
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 1 max = 4 }
			size = { min = 8 max = 20 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 6
		}
	}
	change_orbit = 30
	planet = {
		count = { min = 0 max = 2 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
	}
}
 # Crystal Manufactory version of Basic 4
crystal_manufactory_system = {
	class = "rl_standard_stars"
	flags = { manufactory_system }
	asteroid_belt = { type = rocky_asteroid_belt radius = 120 }
	usage = misc_system_init
	usage_odds = 5
	max_instances = 1
	 #spawn_chance = 25
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	change_orbit = 120
	planet = {
		count = { min = 3 max = 6 }
		class = pc_asteroid
		orbit_distance = 0
		orbit_angle = { min = 90 max = 270 }
	}
	change_orbit = -80
	planet = {
		count = { min = 0 max = 2 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
	}
	change_orbit = 80
	planet = {
		count = { min = 0 max = 2 }
		orbit_distance = 40
		orbit_angle = { min = 90 max = 270 }
	}
	init_effect = {
		random_system_planet = {
			limit = {
				 #is_asteroid = yes
				has_deposit_for = shipclass_mining_station
				 #reduces spawn rate of manufactory, but not system
			}
			create_ambient_object = { type = "crystal_manufactory_object" location = this }
			last_created_ambient_object = { set_ambient_object_flag = manufactory }
			add_anomaly = CRYSTAL_MANUFACTORY_CAT
		}
	}
}
 # Trappist System
trappist_initializer = {
	name = "NAME_Trappist"
	class = "sc_m"
	usage = misc_system_init
	usage_odds = 2000000
	max_instances = 1
	 #scaled_#spawn_chance = 10
	planet = {
		class = "pc_m_star"
		orbit_distance = 0
		orbit_angle = 1
		size = 20
		has_ring = no
	}
	 # Trappist-1b
	planet = {
		class = "pc_molten"
		orbit_distance = 20
		orbit_angle = 15
		size = 16
		has_ring = no
	}
	 # Trappist-1c
	planet = {
		class = "pc_barren"
		orbit_distance = 16
		orbit_angle = 85
		size = 16
		has_ring = no
	}
	 # Trappist-1d
	planet = {
		class = "pc_toxic"
		orbit_distance = 16
		orbit_angle = 110
		size = 12
		has_ring = no
	}
	 # Trappist-1e
	planet = {
		class = "pc_desert"
		orbit_distance = 16
		orbit_angle = 125
		size = 20
		has_ring = no
	}
	 # Trappist-1f
	planet = {
		class = "pc_continental"
		orbit_distance = 16
		orbit_angle = 65
		size = 20
		has_ring = no
	}
	 # Trappist-1g
	planet = {
		class = "pc_arctic"
		orbit_distance = 16
		orbit_angle = -130
		size = 20
		has_ring = no
	}
	 # Trappist-1h
	planet = {
		class = "pc_frozen"
		orbit_distance = 16
		orbit_angle = 245
		size = 12
		has_ring = no
	}
}
 # Leviathans DLC System Initializers
 ### ENCLAVES ###
 # Artists II
guardians_artist_init_02 = {
	class = "rl_standard_stars"
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 16	# scales by galaxy size (1000 stars = 10x base)
	flags = { guardians_artists_system enclave }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	change_orbit = 45
	planet = {
		count = 1
		class = pc_barren
		size = 25
		orbit_angle = { min = 90 max = 270 }
	}
	planet = {
		count = 1
		orbit_distance = 30
		class = rl_unhabitable_planets
		orbit_angle = { min = 90 max = 270 }
		size = 25
		init_effect = {
			set_planet_flag = guardians_artists_planet
			create_species = {
				name = random
				class = random_non_machine
				portrait = random
				traits = random
				homeworld = this
			}
			if = {
				limit = { NOT = { exists = event_target:artist_enclave_country } }
				create_country = {
					name = "NAME_Artisan_Troupe"
					type = enclave
					authority = "auth_democratic"
					civics = { civic = civic_artist_collective }
					species = last_created
					flag = {
						icon = { category = "enclaves" file = "enclaves_flag_artist.dds" }
						background = { category = "backgrounds" file = "vertical.dds" }
						colors = {
							"dark_purple"
							"purple"
							"null"
							"null"
						}
					}
					ethos = { ethic = ethic_fanatic_xenophile ethic = ethic_spiritualist }
					ignore_initial_colony_error = yes
				}
				last_created_country = {
					save_global_event_target_as = artist_enclave_country
					set_country_flag = artist_enclave_country
					set_graphical_culture = mammalian_01
					create_fleet = {
						name = "NAME_Ars_Artem"
						settings = { spawn_debris = no }
						effect = {
							set_owner = prev
							create_ship = {
								name = random
								design = "NAME_Artist_Enclave_Station"
								graphical_culture = prev
							}
							set_location = { target = prevprev distance = 90 }
							save_event_target_as = CustomCapital
							prev = { set_custom_capital_location = event_target:CustomCapital }
						}
					}
					create_leader = {
						type = ruler
						species = prev
						name = random
						skill = 5
					}
					set_leader = last_created_leader
				}
			}
			else = {
				event_target:artist_enclave_country = {
					create_fleet = {
						name = "NAME_Ars_Artem"
						settings = { spawn_debris = no }
						effect = {
							set_owner = prev
							create_ship = {
								name = random
								design = "NAME_Artist_Enclave_Station"
								graphical_culture = prev
								 #effect = {
								 #	save_event_target_as = station_location
								 #}
							}
							set_location = { target = prevprev distance = 90 }
							set_fleet_flag = artist_enclave_station
						}
					}
					create_leader = {
						type = ruler
						species = prev
						name = random
						skill = 5
					}
					set_leader = last_created_leader
				}
			}
		}
	}
	change_orbit = 10
	planet = {
		orbit_distance = 20
		class = pc_molten
		orbit_angle = { min = 90 max = 270 }
		size = 25
	}
	planet = {
		orbit_distance = 40
		class = pc_gas_giant
		orbit_angle = { min = 90 max = 270 }
		size = 40
	}
	init_effect = {
		 ###
	}
}
 # Artists III
guardians_artist_init_03 = {
	class = "rl_standard_stars"
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 12	# scales by galaxy size (1000 stars = 10x base)
	flags = { guardians_artists_system enclave }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	change_orbit = 45
	planet = {
		count = 1
		class = pc_barren
		size = 25
		orbit_angle = { min = 90 max = 270 }
	}
	planet = {
		count = 1
		orbit_distance = 30
		class = rl_unhabitable_planets
		orbit_angle = { min = 90 max = 270 }
		size = 25
		init_effect = {
			set_planet_flag = guardians_artists_planet
			create_species = {
				name = random
				class = random_non_machine
				portrait = random
				traits = random
				homeworld = this
			}
			if = {
				limit = { NOT = { exists = event_target:artist_enclave_country } }
				create_country = {
					name = "NAME_Artisan_Troupe"
					type = enclave
					authority = "auth_democratic"
					civics = { civic = civic_artist_collective }
					species = last_created
					flag = {
						icon = { category = "enclaves" file = "enclaves_flag_artist.dds" }
						background = { category = "backgrounds" file = "vertical.dds" }
						colors = {
							"dark_purple"
							"purple"
							"null"
							"null"
						}
					}
					ethos = { ethic = ethic_fanatic_xenophile ethic = ethic_spiritualist }
					ignore_initial_colony_error = yes
				}
				last_created_country = {
					save_global_event_target_as = artist_enclave_country
					set_country_flag = artist_enclave_country
					set_graphical_culture = mammalian_01
					create_fleet = {
						name = "NAME_Ars_Artem"
						settings = { spawn_debris = no }
						effect = {
							set_owner = prev
							create_ship = {
								name = random
								design = "NAME_Artist_Enclave_Station"
								graphical_culture = prev
							}
							set_location = { target = prevprev distance = 90 }
							save_event_target_as = CustomCapital
							prev = { set_custom_capital_location = event_target:CustomCapital }
						}
					}
					create_leader = {
						type = ruler
						species = prev
						name = random
						skill = 5
					}
					set_leader = last_created_leader
				}
			}
			else = {
				event_target:artist_enclave_country = {
					create_fleet = {
						name = "NAME_Ars_Artem"
						settings = { spawn_debris = no }
						effect = {
							set_owner = prev
							create_ship = {
								name = random
								design = "NAME_Artist_Enclave_Station"
								graphical_culture = prev
								 #effect = {
								 #	save_event_target_as = station_location
								 #}
							}
							set_location = { target = prevprev distance = 90 }
							set_fleet_flag = artist_enclave_station
						}
					}
					create_leader = {
						type = ruler
						species = prev
						name = random
						skill = 5
					}
					set_leader = last_created_leader
				}
			}
		}
	}
	change_orbit = 10
	planet = {
		orbit_distance = 20
		class = pc_molten
		orbit_angle = { min = 90 max = 270 }
		size = 25
	}
	planet = {
		orbit_distance = 40
		class = pc_gas_giant
		orbit_angle = { min = 90 max = 270 }
		size = 40
	}
	init_effect = {
		 ###
	}
}
 # Curators I
guardians_curator_init_01 = {
	class = "rl_standard_stars"
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = {
			OR = { has_leviathans = yes has_distar = yes }
			add = 100
		}
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #sigma (2) always spawns
	 #scaled_#spawn_chance = 12	# scales by galaxy size (1000 stars = 10x base)
	flags = { guardians_curators_system enclave }
	planet = {
		class = star
		orbit_distance = 0
		init_effect = {
			if = {
				limit = { NOT = { exists = event_target:curator_enclave_country } }
				create_species = {
					name = random
					class = random_non_machine
					portrait = random
					traits = random
					 #homeworld = this
				}
				create_country = {
					name = "NAME_Curator_Order"
					type = enclave
					authority = "auth_oligarchic"
					civics = { civic = civic_ancient_preservers }
					species = last_created
					flag = {
						icon = { category = "enclaves" file = "enclaves_flag_curator.dds" }
						background = { category = "backgrounds" file = "vertical.dds" }
						colors = {
							"blue"
							"dark_blue"
							"null"
							"null"
						}
					}
					ethos = { ethic = ethic_fanatic_materialist ethic = ethic_pacifist }
					ignore_initial_colony_error = yes
				}
				last_created_country = {
					set_country_flag = curator_enclave_country
					set_graphical_culture = mammalian_01
					save_global_event_target_as = curator_enclave_country
					create_fleet = {
						name = "NAME_Curator_Alpha_Enclave"
						settings = { spawn_debris = no }
						effect = {
							set_owner = prev
							create_ship = {
								name = random
								design = "NAME_Curator_Enclave_Station"
								graphical_culture = prev
							}
							set_location = {
								target = prevprev
								angle = random
								distance = 100
							}
							save_event_target_as = CustomCapital
							prev = { set_custom_capital_location = event_target:CustomCapital }
						}
					}
					create_leader = {
						type = ruler
						species = prev
						name = random
						skill = 5
					}
					set_leader = last_created_leader
				}
			}
			else = {
				event_target:curator_enclave_country = {
					create_fleet = {
						name = "NAME_Curator_Alpha_Enclave"
						settings = { spawn_debris = no }
						effect = {
							set_owner = prev
							create_ship = {
								name = random
								design = "NAME_Curator_Enclave_Station"
								graphical_culture = prev
							}
							set_location = { target = prevprev distance = 120 }
							save_event_target_as = CustomCapital
							prev = { set_custom_capital_location = event_target:CustomCapital }
						}
					}
				}
			}
		}
	}
	change_orbit = 60
	planet = {
		count = 3
		orbit_distance = 25
		class = "rl_unhabitable_planets"
		orbit_angle = { min = 90 max = 270 }
		size = { min = 10 max = 25 }
	}
}
 # Curators III
guardians_curator_init_03 = {
	class = sc_pulsar
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = {
			OR = { has_leviathans = yes has_distar = yes }
			add = 100
		}
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 16	# scales by galaxy size (1000 stars = 10x base)
	flags = { guardians_curators_system enclave }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = 30
		has_ring = no
		init_effect = {
			if = {
				limit = { NOT = { exists = event_target:curator_enclave_country } }
				create_species = {
					name = random
					class = random_non_machine
					portrait = random
					traits = random
					 #homeworld = this
				}
				create_country = {
					name = "NAME_Curator_Order"
					type = enclave
					authority = "auth_oligarchic"
					civics = { civic = civic_ancient_preservers }
					species = last_created
					flag = {
						icon = { category = "enclaves" file = "enclaves_flag_curator.dds" }
						background = { category = "backgrounds" file = "vertical.dds" }
						colors = {
							"blue"
							"dark_blue"
							"null"
							"null"
						}
					}
					ethos = { ethic = ethic_fanatic_materialist ethic = ethic_pacifist }
					ignore_initial_colony_error = yes
				}
				last_created_country = {
					set_country_flag = curator_enclave_country
					set_graphical_culture = mammalian_01
					save_global_event_target_as = curator_enclave_country
					create_fleet = {
						name = "NAME_Curator_Lambda_Enclave"
						settings = { spawn_debris = no }
						effect = {
							set_owner = prev
							create_ship = {
								name = random
								design = "NAME_Curator_Enclave_Station"
								graphical_culture = prev
							}
							set_location = {
								target = prevprev
								angle = random
								distance = 100
							}
							save_event_target_as = CustomCapital
							prev = { set_custom_capital_location = event_target:CustomCapital }
						}
					}
					create_leader = {
						type = ruler
						species = prev
						name = random
						skill = 5
					}
					set_leader = last_created_leader
				}
			}
			else = {
				event_target:curator_enclave_country = {
					create_fleet = {
						name = "NAME_Curator_Lambda_Enclave"
						settings = { spawn_debris = no }
						effect = {
							set_owner = prev
							create_ship = {
								name = random
								design = "NAME_Curator_Enclave_Station"
								graphical_culture = prev
							}
							set_location = { target = prevprev distance = 120 }
							save_event_target_as = CustomCapital
							prev = { set_custom_capital_location = event_target:CustomCapital }
						}
					}
				}
			}
		}
	}
	change_orbit = 60
	planet = {
		count = 1
		class = "pc_broken"
		size = { min = 15 max = 25 }
		orbit_angle = { min = 90 max = 270 }
		init_effect = { prevent_anomaly = yes }
	}
	planet = {
		count = 1
		orbit_distance = 40
		class = "pc_broken"
		orbit_angle = { min = 90 max = 270 }
		size = { min = 15 max = 25 }
		init_effect = { prevent_anomaly = yes }
	}
	planet = {
		orbit_distance = 40
		class = pc_gas_giant
		orbit_angle = { min = 90 max = 270 }
		size = 40
	}
}
 # Traders
guardians_trader_init_02 = {
	class = "rl_standard_stars"
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 16	# scales by galaxy size (1000 stars = 10x base)
	flags = { guardians_traders_system enclave }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	change_orbit = 45
	planet = {
		count = { min = 2 max = 5 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
		init_effect = {
			if = {
				limit = { NOT = { exists = event_target:GuardiansTradersPlanet } }
				save_event_target_as = GuardiansTradersPlanet
				set_planet_flag = guardians_traders_planet
				create_species = {
					name = "NAME_Riggan"
					plural = Riggans
					class = random_non_machine
					portrait = random
					traits = { trait = trait_thrifty }
					 #homeworld = this
				}
				create_country = {
					name = "NAME_Riggan_Commerce_Exchange"
					type = enclave
					authority = "auth_oligarchic"
					civics = { civic = civic_trading_conglomerate }
					species = last_created
					flag = {
						icon = { category = "enclaves" file = "enclaves_flag_trader.dds" }
						background = { category = "backgrounds" file = "circle.dds" }
						colors = {
							"green"
							"dark_green"
							"null"
							"null"
						}
					}
					ethos = {
						ethic = ethic_xenophile
						ethic = ethic_materialist
						ethic = ethic_egalitarian
					}
					ignore_initial_colony_error = yes
				}
				last_created_country = {
					set_country_flag = trader_enclave_country
					set_country_flag = trader_enclave_country_2
					set_graphical_culture = mammalian_01
					create_fleet = {
						name = "NAME_Grand_Bazaar"
						settings = { spawn_debris = no }
						effect = {
							set_owner = prev
							create_ship = {
								name = random
								design = "NAME_Trader_Enclave_Station"
								graphical_culture = prev
							}
							set_location = { target = prevprev distance = 90 }
							save_event_target_as = CustomCapital
							prev = { set_custom_capital_location = event_target:CustomCapital }
							set_fleet_flag = trader_enclave_station
						}
					}
					create_leader = {
						type = ruler
						species = prev
						name = random
						skill = 5
					}
					set_leader = last_created_leader
				}
			}
		}
	}
}
 # Traders
guardians_trader_init_03 = {
	class = "rl_standard_stars"
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 12	# scales by galaxy size (1000 stars = 10x base)
	flags = { guardians_traders_system enclave }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	change_orbit = 45
	planet = {
		count = { min = 2 max = 5 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
		init_effect = {
			if = {
				limit = { NOT = { exists = event_target:GuardiansTradersPlanet } }
				save_event_target_as = GuardiansTradersPlanet
				set_planet_flag = guardians_traders_planet
				create_species = {
					name = "NAME_Muutagan"
					plural = Muutagans
					class = random_non_machine
					portrait = random
					traits = { trait = trait_thrifty }
					 #homeworld = this
				}
				create_country = {
					name = "NAME_Muutagan_Merchant_Guild"
					type = enclave
					authority = "auth_oligarchic"
					civics = { civic = civic_trading_conglomerate }
					species = last_created
					flag = {
						icon = { category = "enclaves" file = "enclaves_flag_trader.dds" }
						background = { category = "backgrounds" file = "double_hemispheres.dds" }
						colors = {
							"green"
							"dark_green"
							"null"
							"null"
						}
					}
					ethos = {
						ethic = ethic_xenophile
						ethic = ethic_materialist
						ethic = ethic_egalitarian
					}
					ignore_initial_colony_error = yes
				}
				last_created_country = {
					set_country_flag = trader_enclave_country
					set_country_flag = trader_enclave_country_3
					set_graphical_culture = mammalian_01
					create_fleet = {
						name = "NAME_Muutag_Station"
						settings = { spawn_debris = no }
						effect = {
							set_owner = prev
							create_ship = {
								name = random
								design = "NAME_Trader_Enclave_Station"
								graphical_culture = prev
							}
							set_location = { target = prevprev distance = 90 }
							save_event_target_as = CustomCapital
							prev = { set_custom_capital_location = event_target:CustomCapital }
							set_fleet_flag = trader_enclave_station
						}
					}
					create_leader = {
						type = ruler
						species = prev
						name = random
						skill = 5
					}
					set_leader = last_created_leader
				}
			}
		}
	}
}
 ### GUARDIANS SYSTEM ###
 # Stellarites
guardians_init_stellarites = {
	class = rl_dwarf_stars
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = {
			factor = 0
			OR = { is_fe_cluster = yes has_star_flag = empire_cluster }
		}
		modifier = { factor = 0 has_star_flag = empire_cluster }
		modifier = { factor = 0 is_bottleneck_system = yes }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	flags = {
		guardians_stellarite_system
		guardian
		hostile_system
	}
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	change_orbit = 45
	planet = {
		count = { min = 1 max = 2 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		size = { min = 10 max = 25 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			size = { min = 10 max = 14 }
			orbit_distance = 5
		}
	}
	planet = {
		class = pc_frozen
		count = { min = 1 max = 1 }
		orbit_distance = 20
		size = { min = 15 max = 25 }
		orbit_angle = { min = 90 max = 270 }
	}
	planet = {
		count = { min = 1 max = 2 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		size = { min = 10 max = 25 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			size = { min = 10 max = 14 }
			orbit_distance = 5
		}
	}
	init_effect = {
		random_system_planet = {
			limit = { is_star = yes }
			change_planet_size = -5
		}
	}
}
 ### Ether Drake
guardians_init_dragon = {
	class = sc_k
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = {
			factor = 0
			OR = { is_fe_cluster = yes has_star_flag = empire_cluster }
		}
		modifier = { factor = 0 has_star_flag = empire_cluster }
		modifier = { factor = 0 is_bottleneck_system = yes }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	flags = {
		guardians_dragon_system
		guardian
		hostile_system
	}
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	change_orbit = 10
	 # Hoard
	planet = {
		count = 1
		orbit_distance = 20
		orbit_angle = 20
		size = 5
		has_ring = no
		init_effect = {
			set_name = "NAME_Dragons_Hoard"
			set_planet_flag = hoard_planet
			save_global_event_target_as = guardian_dragon_planet
			prevent_anomaly = yes
			orbital_deposit_tile = { clear_deposits = yes add_deposit = d_guardian_dragon_hoard }
			create_country = {
				name = "NAME_Voidwyrm"
				type = guardian_dragon
				flag = {
					icon = { category = "zoological" file = "flag_zoological_5.dds" }
					background = { category = "backgrounds" file = "00_solid.dds" }
					colors = {
						"red"
						"red"
						"null"
						"null"
					}
				}
			}
			last_created_country = {
				guardian_difficulty = yes
				save_global_event_target_as = guardian_dragon_country
				set_country_flag = dragon_country
			}
			create_fleet = {
				name = "NAME_Ether_Drake"
				settings = { spawn_debris = no is_boss = yes }
				effect = {
					set_owner = event_target:guardian_dragon_country
					create_ship = { name = "NAME_Avice" design = "NAME_Grand_Dragon" }
					set_fleet_flag = dragon_fleet
					set_location = event_target:guardian_dragon_planet
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = self
					set_aggro_range = 500
					queue_actions = {
						repeat = {
							find_closest_planet = {
								trigger = { id = dragon.home.1 is_star = yes }
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = { duration = 30 random = 20 }
								}
							}
							find_closest_planet = {
								trigger = {
									id = dragon.home.2
									is_star = no
									NOT = { is_same_value = event_target:guardian_dragon_planet }
								}
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = { duration = 30 random = 20 }
								}
							}
							find_closest_planet = {
								trigger = { id = dragon.home.3 is_same_value = event_target:guardian_dragon_planet }
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = { duration = 30 random = 20 }
								}
							}
						}
					}
				}
			}
		}
	}
	change_orbit = 15
	planet = {
		count = { min = 1 max = 4 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
		init_effect = { }
	}
}
 # Dimensional Horror
guardians_init_horror = {
	class = "sc_black_hole"
	usage = misc_system_init
	flags = {
		guardians_horror_system
		guardian
		hostile_system
	}
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = {
			factor = 0
			OR = { is_fe_cluster = yes has_star_flag = empire_cluster }
		}
		modifier = { factor = 0 has_star_flag = empire_cluster }
		modifier = { factor = 0 is_bottleneck_system = yes }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
}
 # Automated Dreadnought
guardians_init_dreadnought = {
	class = "rl_standard_stars"
	usage = misc_system_init
	asteroid_belt = { type = rocky_asteroid_belt radius = 50 }
	flags = {
		guardians_dreadnought_system
		guardian
		hostile_system
	}
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = {
			factor = 0
			OR = { is_fe_cluster = yes has_star_flag = empire_cluster }
		}
		modifier = { factor = 0 has_star_flag = empire_cluster }
		modifier = { factor = 0 is_bottleneck_system = yes }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
		flags = { patrol_1 }
		init_effect = {
			save_event_target_as = dreadnought_sun
			create_country = {
				name = "NAME_Automated_Dreadnought"
				type = guardian_dreadnought
				flag = {
					icon = { category = "spherical" file = "flag_spherical_6.dds" }
					background = { category = "backgrounds" file = "00_solid.dds" }
					colors = {
						"red"
						"red"
						"null"
						"null"
					}
				}
			}
			last_created_country = {
				if = {
					limit = { NOT = { has_modifier = dreadnought_power } }
					add_modifier = { modifier = dreadnought_power days = -1 }
				}
				guardian_difficulty = yes
				save_global_event_target_as = automated_dreadnought_country
				set_country_flag = automated_dreadnought_country
			}
			create_fleet = {
				name = "NAME_Automated_Dreadnought"
				settings = { spawn_debris = no is_boss = yes }
				effect = {
					set_owner = event_target:automated_dreadnought_country
					save_global_event_target_as = automated_dreadnought
					create_ship = {
						name = "NAME_JuukTidir"
						design = "NAME_Relic"
						graphical_culture = "npf_01_dirty"
					}
					set_location = {
						target = event_target:dreadnought_sun
						distance = 0
						angle = random
					}
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = return_point
					set_aggro_range = 350
					queue_actions = {
						repeat = {
							find_closest_planet = {
								trigger = { id = dreadnought.patrol.1 has_planet_flag = patrol_1 }
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = { duration = 30 }
								}
							}
							find_closest_planet = {
								trigger = { id = dreadnought.patrol.2 has_planet_flag = patrol_2 }
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = { duration = 30 }
								}
							}
							find_closest_planet = {
								trigger = { id = dreadnought.patrol.3 has_planet_flag = patrol_3 }
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = { duration = 30 }
								}
							}
							find_closest_planet = {
								trigger = { id = dreadnought.patrol.4 has_planet_flag = patrol_4 }
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = { duration = 30 }
								}
							}
							find_closest_planet = {
								trigger = { id = dreadnought.patrol.5 has_planet_flag = patrol_5 }
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = { duration = 30 }
								}
							}
							find_closest_planet = {
								trigger = { id = dreadnought.patrol.6 has_planet_flag = patrol_6 }
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = { duration = 30 }
								}
							}
							find_closest_planet = {
								trigger = { id = dreadnought.patrol.7 has_planet_flag = patrol_7 }
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = { duration = 30 }
								}
							}
							find_closest_planet = {
								trigger = { id = dreadnought.patrol.8 has_planet_flag = patrol_8 }
								found_planet = {
									move_to = this
									orbit_planet = this
									wait = { duration = 30 }
								}
							}
						}
					}
				}
			}
		}
	}
	change_orbit = 50
	planet = {
		count = 2
		class = pc_asteroid
		orbit_distance = 0
		orbit_angle = { min = 90 max = 270 }
	}
	change_orbit = 30
	planet = {
		class = "pc_molten"
		orbit_distance = 0
		orbit_angle = 85
		size = 15
		has_ring = no
		flags = { patrol_2 }
	}
	change_orbit = 25
	planet = {
		class = "rl_habitable_normal"
		orbit_distance = 0
		orbit_angle = 85
		size = 25
		has_ring = no
		flags = { patrol_3 }
		init_effect = {
			random_tile = {
				limit = { has_blocker = no has_building = no }
				set_blocker = "tb_city_ruins"
				set_deposit = d_vast_engineering_deposit
			}
			random_tile = {
				limit = { has_blocker = no has_building = no }
				set_blocker = "tb_city_ruins"
				set_deposit = d_vast_society_deposit
			}
			random_tile = {
				limit = { has_blocker = no has_building = no }
				set_blocker = "tb_city_ruins"
				set_deposit = d_vast_physics_deposit
			}
		}
		change_orbit = @base_moon_distance
		moon = {
			class = "pc_toxic"
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
	change_orbit = 25
	planet = {
		class = "rl_habitable_normal"
		orbit_distance = 0
		orbit_angle = 85
		size = 25
		has_ring = yes
		flags = { patrol_4 }
		init_effect = {
			random_tile = {
				limit = { has_blocker = no has_building = no }
				set_blocker = "tb_city_ruins"
				set_deposit = d_vast_engineering_deposit
			}
			random_tile = {
				limit = { has_blocker = no has_building = no }
				set_blocker = "tb_city_ruins"
				set_deposit = d_vast_society_deposit
			}
			random_tile = {
				limit = { has_blocker = no has_building = no }
				set_blocker = "tb_city_ruins"
				set_deposit = d_vast_physics_deposit
			}
		}
	}
	planet = {
		class = "pc_barren"
		orbit_distance = 25
		orbit_angle = { min = 90 max = 270 }
		flags = { patrol_5 }
		change_orbit = @base_moon_distance
		moon = {
			class = "pc_barren_cold"
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
	planet = {
		class = "pc_gas_giant"
		orbit_distance = 30
		orbit_angle = { min = 90 max = 270 }
		size = 25
		has_ring = yes
		flags = { patrol_6 }
	}
	planet = {
		class = "pc_gas_giant"
		orbit_distance = 30
		orbit_angle = { min = 90 max = 270 }
		size = 35
		has_ring = no
		flags = { patrol_7 }
		moon = {
			size = 6
			orbit_distance = 10
			orbit_angle = 115
			has_ring = no
		}
		moon = {
			size = 6
			orbit_distance = 2.5
			orbit_angle = 35
			has_ring = no
		}
		moon = {
			size = 9
			orbit_distance = 2.5
			orbit_angle = 270
			has_ring = no
		}
	}
	planet = {
		class = "pc_frozen"
		orbit_distance = 35
		orbit_angle = { min = 90 max = 270 }
		size = 8
		flags = { patrol_8 }
	}
}
 # Hive
guardians_init_hive = {
	class = "rl_standard_stars"
	usage = misc_system_init
	asteroid_belt = { type = crystal_asteroid_belt radius = 160 }
	flags = {
		guardians_hive_system
		guardian
		hostile_system
	}
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = {
			factor = 0
			OR = { is_fe_cluster = yes has_star_flag = empire_cluster }
		}
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
		init_effect = {
			create_ambient_object = { type = "dormant_hive_base_object" }
			last_created_ambient_object = {
				set_location = {
					target = PREV
					distance = 160
					angle = 245
				}
				set_ambient_object_flag = hive_asteroid_1
			}
			create_ambient_object = { type = "dormant_hive_base_object" }
			last_created_ambient_object = {
				set_location = {
					target = PREV
					distance = 160
					angle = 280
				}
				set_ambient_object_flag = hive_asteroid_2
			}
			create_ambient_object = { type = "dormant_hive_base_object" }
			last_created_ambient_object = {
				set_location = {
					target = PREV
					distance = 160
					angle = 320
				}
				set_ambient_object_flag = hive_asteroid_3
			}
			create_ambient_object = { type = "dormant_hive_base_object" }
			last_created_ambient_object = {
				set_location = {
					target = PREV
					distance = 160
					angle = 35
				}
				set_ambient_object_flag = hive_asteroid_4
			}
			create_ambient_object = { type = "dormant_hive_base_object" }
			last_created_ambient_object = {
				set_location = {
					target = PREV
					distance = 160
					angle = 110
				}
				set_ambient_object_flag = hive_asteroid_5
			}
			create_ambient_object = { type = "dormant_hive_base_object" }
			last_created_ambient_object = {
				set_location = {
					target = PREV
					distance = 160
					angle = 180
				}
				set_ambient_object_flag = hive_asteroid_6
			}
		}
	}
	change_orbit = 160
	planet = {
		class = pc_crystal_asteroid
		orbit_distance = 0
		orbit_angle = 75
		flags = { hiver_asteroid_1 }
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = { add_deposit = d_guardian_hiver_asteroid_1 }
		}
	}
	planet = {
		class = pc_crystal_asteroid
		orbit_distance = 0
		orbit_angle = 75
		flags = { hiver_asteroid_2 }
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = { add_deposit = d_guardian_hiver_asteroid_2 }
		}
	}
	planet = {
		class = pc_crystal_asteroid
		orbit_distance = 0
		orbit_angle = 75
		flags = { hiver_asteroid_3 }
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = { add_deposit = d_guardian_hiver_asteroid_1 }
		}
	}
	planet = {
		class = pc_crystal_asteroid
		orbit_distance = 0
		orbit_angle = 75
		flags = { hiver_asteroid_4 }
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = { add_deposit = d_guardian_hiver_asteroid_2 }
		}
	}
	planet = {
		class = pc_crystal_asteroid
		orbit_distance = 0
		orbit_angle = 70
		flags = { hiver_asteroid_5 }
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = { add_deposit = d_guardian_hiver_asteroid_1 }
		}
	}
	change_orbit = 40
	planet = {
		class = "pc_gas_giant"
		count = { min = 1 max = 3 }
		orbit_distance = 35
		orbit_angle = { min = 90 max = 270 }
	}
}
 #Technosphere
guardians_init_technosphere = {
	name = "NAME_Gargantua"
	class = sc_black_hole
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = {
			factor = 0
			OR = { is_fe_cluster = yes has_star_flag = empire_cluster }
		}
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	flags = {
		guardians_technosphere_system
		guardian
		hostile_system
	}
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = 35
		has_ring = no
		init_effect = {
			set_name = "NAME_Gargantua"
			 #change_planet_size = 20
			prevent_anomaly = yes
		}
	}
	init_effect = {
		random_system_planet = {
			limit = { is_star = yes }
			orbital_deposit_tile = { clear_deposits = yes }
			create_country = {
				name = "NAME_Infinity_Machine"
				type = guardian_sphere
				flag = {
					icon = { category = "zoological" file = "flag_zoological_5.dds" }
					background = { category = "backgrounds" file = "00_solid.dds" }
					colors = {
						"red"
						"red"
						"null"
						"null"
					}
				}
			}
			last_created_country = {
				guardian_difficulty = yes
				save_global_event_target_as = guardian_technosphere_country
				if = {
					limit = { NOT = { has_modifier = technosphere_power } }
					add_modifier = { modifier = technosphere_power days = -1 }
				}
				set_graphical_culture = techno
				create_fleet = {
					name = "NAME_The_Infinity_Machine"
					settings = { spawn_debris = no is_boss = yes }
					effect = {
						set_owner = event_target:guardian_technosphere_country
						create_ship = { name = "NAME_I_O" design = "NAME_Infinity_Machine" }
						set_fleet_flag = technosphere_fleet
						set_location = {
							target = prevprev
							distance = 80
							angle = 220
						}
						set_fleet_stance = passive
						set_aggro_range_measure_from = self
						set_aggro_range = 100
						save_global_event_target_as = technosphere_ship
					}
				}
			}
		}
	}
}
 ### Enigmatic Fortress
guardians_init_fortress = {
	class = sc_a
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = {
			factor = 0
			OR = { is_fe_cluster = yes has_star_flag = empire_cluster }
		}
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	flags = {
		guardians_fortress_system
		guardian
		enigmatic_system
		hostile_system
	}
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
		init_effect = {
			if = {
				limit = { NOT = { exists = event_target:fortress_country } }
				create_country = {
					name = "NAME_Enigmatic_Fortress"
					type = guardian_fortress
					flag = {
						icon = { category = "zoological" file = "flag_zoological_5.dds" }
						background = { category = "backgrounds" file = "00_solid.dds" }
						colors = {
							"red"
							"red"
							"null"
							"null"
						}
					}
					effect = {
						guardian_difficulty = yes
						save_global_event_target_as = fortress_country
						set_country_flag = fortress_country
						if = {
							limit = { NOT = { has_modifier = enigmatic_power } }
							add_modifier = { modifier = enigmatic_power days = -1 }
						}
					}
				}
				create_fleet = {
					name = "NAME_Enigmatic_Fortress"
					settings = { spawn_debris = no is_boss = yes }
					effect = {
						set_owner = event_target:fortress_country
						while = {
							count = 1  #just to show-case that formation will tile
							create_ship = {
								name = ""
								design = "NAME_Ancient_Vault"
								graphical_culture = "ancient"
								effect = {
									set_ship_flag = fortress_vault
									set_disable_at_health = 0.05
									save_global_event_target_as = fortress_vault_core
								}
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Guardian"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Guardian"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Warden"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Warden"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Defender"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Defender"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Defender"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Defender"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Sentinel"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Sentinel"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Sentinel"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Sentinel"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Sentinel"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Sentinel"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Sentinel"
								graphical_culture = "ancient"
							}
							create_ship = {
								name = ""
								design = "NAME_Ancient_Sentinel"
								graphical_culture = "ancient"
							}
						}
						set_fleet_formation = {
							position = { x = 13.0 y = -7.0 }  #17
							position = { x = 11.5 y = -13.0 }  #16
							position = { x = 0.0 y = -15.5 }  #15
							position = { x = 13.0 y = 7.0 }  #14
							position = { x = -11.8 y = -4.0 }  #13
							position = { x = -15.8 y = 6.5 }  #12
							position = { x = -10.0 y = 8.5 }  #11
							position = { x = -1.6 y = 15.0 }  #10
							position = { x = 14.0 y = -3.0 }  #9
							position = { x = 1.3 y = -11.0 }  #8
							position = { x = -10.5 y = 1.0 }  #7
							position = { x = 3.0 y = 8.0 }  #6
							position = { x = -4.3 y = -7.0 }  #5
							position = { x = 8.0 y = 9.0 }  #4
							position = { x = -4.0 y = 7.3 }  #3
							position = { x = 7.5 y = -10.5 }  #2
							position = { x = 0.0 y = 0.0 }  #1
						}
						set_formation_scale = 0.5
						set_location = {
							target = PREV
							distance = 25
							angle = 150
						}
						set_fleet_flag = fortress_fleet
						save_global_event_target_as = fortress_fleet
					}
				}
			}
		}
	}
	change_orbit = 25
	planet = {
		count = { min = 1 max = 2 }
		orbit_distance = 15
		class = "rl_habitable_normal"
		orbit_angle = { min = 270 max = 359 }
		size = 25
	}
	planet = {
		count = { min = 1 max = 5 }
		orbit_distance = 20
		class = "rl_unhabitable_planets"
		orbit_angle = { min = 90 max = 270 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			class = "rl_unhabitable_planets"
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
}
 # Wraith
guardians_init_wraith = {
	class = "sc_pulsar"
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = { has_leviathans = yes add = 100 }
		modifier = {
			factor = 0
			OR = { is_fe_cluster = yes has_star_flag = empire_cluster }
		}
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	flags = {
		guardians_wraith_system
		guardian
		hostile_system
	}
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		has_ring = no
		flags = { guardians_wraith_pulsar }
	}
	change_orbit = 45
	planet = {
		count = { min = 2 max = 10 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
}
 # Utopia Initializers
 # Ruined Dyson Sphere
dyson_sphere_init_01 = {
	class = "rl_standard_stars"
	usage = misc_system_init
	flags = { ruined_dyson_system }
	usage_odds = {
		base = 0
		modifier = { host_has_dlc = "Utopia" add = 100 }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 2
	planet = {
		class = star
		orbit_distance = 0
		init_effect = {
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 25
					angle = random
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 22
					angle = random
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 31
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_01_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 27
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_02_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 23
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_01_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 26
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_02_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 28
					angle = random
				}
			}
			create_ambient_object = {
				type = "small_debris_object"
				entity_offset_height = { min = -0 max = -20 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 22
					angle = random
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 35
					angle = 70
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 50
					angle = 100
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 65
					angle = 125
				}
			}
			create_ambient_object = { type = "medium_debris_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 47
					angle = 100
				}
			}
			create_ambient_object = { type = "medium_debris_02_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 51
					angle = 80
				}
			}
			create_ambient_object = { type = "medium_debris_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 40
					angle = 127
				}
			}
			create_ambient_object = { type = "medium_debris_02_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 55
					angle = 76
				}
			}
			create_ambient_object = { type = "small_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 50
					angle = 120
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 35
					angle = 270
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 50
					angle = 300
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 65
					angle = 325
				}
			}
			create_ambient_object = { type = "medium_debris_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 47
					angle = 300
				}
			}
			create_ambient_object = { type = "medium_debris_02_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 51
					angle = 280
				}
			}
			create_ambient_object = { type = "medium_debris_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 40
					angle = 327
				}
			}
			create_ambient_object = { type = "medium_debris_02_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 55
					angle = 276
				}
			}
			create_ambient_object = { type = "small_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 50
					angle = 320
				}
			}
		}
		flags = { has_ruined_megastructure }
	}
	change_orbit = 45
	planet = {
		class = rl_unhabitable_planets
		count = { min = 2 max = 4 }
		orbit_distance = 25
		orbit_angle = { min = 90 max = 270 }
	}
	init_effect = {
		spawn_megastructure = { type = "dyson_sphere_ruined" }
		create_ambient_object = { type = "large_debris_object" location = solar_system }
		create_ambient_object = { type = "large_debris_object" location = solar_system }
		create_ambient_object = { type = "large_debris_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_01_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_02_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_01_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_02_object" location = solar_system }
		create_ambient_object = { type = "small_debris_object" location = solar_system }
	}
}
 # Ruined Science Nexus
science_nexus_init_01 = {
	class = sc_black_hole
	usage = misc_system_init
	flags = { ruined_nexus_system }
	usage_odds = {
		base = 0
		modifier = { host_has_dlc = "Utopia" add = 100 }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 4
	planet = { class = star orbit_distance = 0 }
	change_orbit = 90
	planet = {
		class = "pc_broken"
		size = { min = 10 max = 15 }
		init_effect = { prevent_anomaly = yes }
	}
	change_orbit = 30
	planet = {
		class = "pc_gas_giant"
		orbit_angle = { min = 90 max = 270 }
		size = 40
		init_effect = { save_event_target_as = nexus_planet }
		flags = { has_ruined_megastructure }
	}
	change_orbit = 40
	planet = {
		class = "pc_barren_cold"
		orbit_angle = { min = 90 max = 270 }
		size = { min = 10 max = 15 }
	}
	init_effect = {
		spawn_megastructure = {
			type = "think_tank_ruined"
			location = event_target:nexus_planet
			init_effect = {
				create_ambient_object = { type = "large_debris_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 20
						angle = 20
					}
				}
				create_ambient_object = { type = "large_debris_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 20
						angle = 150
					}
				}
				create_ambient_object = { type = "medium_debris_01_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 35
						angle = 90
					}
				}
				create_ambient_object = { type = "medium_debris_02_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 3
						angle = 270
					}
				}
			}
		}
	}
}
 # Ruined Sentry Array
sentry_array_init_01 = {
	class = "rl_standard_stars"
	usage = misc_system_init
	flags = { ruined_sentry_system }
	usage_odds = {
		base = 0
		modifier = { host_has_dlc = "Utopia" add = 100 }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 4
	planet = { class = star orbit_distance = 0 }
	change_orbit = 45
	planet = {
		class = "pc_nuked"
		size = 16
		init_effect = {
			random_tile = {
				limit = { has_building = no has_blocker = no }
				set_building = "building_agri_processing_complex"
				clear_deposits = yes
			}
			random_tile = {
				limit = { has_building = no has_blocker = no }
				set_building = "building_ancient_factory"
				set_deposit = d_mineral_deposit
			}
		}
	}
	change_orbit = 25
	planet = {
		class = "pc_barren"
		size = { min = 10 max = 15 }
		init_effect = {
			create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
			create_ambient_object = { type = "medium_debris_01_object" location = this }
		}
	}
	change_orbit = 25
	planet = {
		class = "pc_gas_giant"
		orbit_angle = { min = 90 max = 270 }
		size = 40
		init_effect = {
			create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 10
					angle = 270
				}
			}
			create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 10
					angle = 180
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
		}
		moon = {
			class = "pc_barren"
			size = 6
			orbit_distance = 20
			orbit_angle = { min = 90 max = 270 }
			has_ring = no
			init_effect = {
				create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
				create_ambient_object = { type = "medium_debris_01_object" location = this }
			}
		}
	}
	change_orbit = 25
	planet = {
		class = "pc_gas_giant"
		orbit_angle = { min = 90 max = 270 }
		size = 30
		init_effect = {
			create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 7
					angle = 270
				}
			}
			create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 7
					angle = 180
				}
			}
			create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 7
					angle = 0
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 15
					angle = 0
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 15
					angle = 180
				}
			}
		}
		moon = {
			class = "pc_barren_cold"
			size = 6
			orbit_distance = 20
			orbit_angle = { min = 90 max = 270 }
			has_ring = no
		}
		moon = {
			class = "pc_frozen"
			size = 6
			orbit_distance = 6
			orbit_angle = { min = 90 max = 270 }
			has_ring = no
		}
		moon = {
			class = "pc_barren"
			size = 6
			orbit_distance = 6
			orbit_angle = { min = 90 max = 270 }
			has_ring = no
			init_effect = { save_event_target_as = sentry_planet }
			flags = { has_ruined_megastructure }
		}
	}
	change_orbit = 25
	planet = {
		class = "pc_gas_giant"
		orbit_angle = { min = 90 max = 270 }
		size = 35
		init_effect = {
			create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 10
					angle = 270
				}
			}
			create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 10
					angle = 180
				}
			}
			create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 10
					angle = 0
				}
			}
			create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 10
					angle = 90
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 15
					angle = 180
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 15
					angle = 0
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 15
					angle = 270
				}
			}
		}
		moon = {
			class = "pc_frozen"
			size = 6
			orbit_distance = 20
			orbit_angle = { min = 90 max = 270 }
			has_ring = no
		}
		moon = {
			class = "pc_frozen"
			size = 6
			orbit_distance = 6
			orbit_angle = { min = 90 max = 270 }
			has_ring = no
			init_effect = {
				create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
				create_ambient_object = { type = "medium_debris_01_object" location = this }
			}
		}
	}
	change_orbit = 25
	planet = {
		class = "pc_frozen"
		size = { min = 10 max = 15 }
		init_effect = {
			create_ambient_object = { type = "abandoned_starbase_01_object" location = this }
			create_ambient_object = { type = "medium_debris_02_object" location = this }
		}
	}
	init_effect = {
		spawn_megastructure = { type = "spy_orb_ruined" location = event_target:sentry_planet }
		create_ambient_object = { type = "large_debris_object" location = solar_system }
		create_ambient_object = { type = "large_debris_object" location = solar_system }
		create_ambient_object = { type = "large_debris_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_01_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_02_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_01_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_02_object" location = solar_system }
		create_ambient_object = { type = "small_debris_object" location = solar_system }
	}
}
 # Ruined Ring World
ring_world_init_01 = {
	class = "rl_standard_stars"
	usage = misc_system_init
	flags = { ruined_ring_system }
	usage_odds = {
		base = 0
		modifier = { host_has_dlc = "Utopia" add = 100 }
	}
	max_instances = 1
	spawn_chance = 0
	 #scaled_#spawn_chance = 3
	planet = {
		class = star
		orbit_distance = 0
		init_effect = {
			IF = {
				limit = { has_distar = yes }
				random_list = {
					50 = { add_anomaly = DISTAR_CLONE_CAT }
					50 = {
						 #nothing
					}
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 45
					angle = random
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 45
					angle = random
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 45
					angle = random
				}
			}
			create_ambient_object = {
				type = "large_debris_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 45
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_01_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 45
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_02_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 45
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_01_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 45
					angle = random
				}
			}
			create_ambient_object = {
				type = "medium_debris_02_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 45
					angle = random
				}
			}
			create_ambient_object = {
				type = "small_debris_object"
				entity_offset_height = { min = -0 max = -25 }
				location = this
			}
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 45
					angle = random
				}
			}
		}
	}
	change_orbit = 45
	init_effect = {
		spawn_megastructure = {
			type = "ring_world_ruined"
			orbit_angle = 0
			orbit_distance = 45
			location = planet
		}
		spawn_megastructure = {
			type = "ring_world_ruined"
			orbit_angle = 90
			orbit_distance = 45
			location = planet
		}
		spawn_megastructure = {
			type = "ring_world_ruined"
			orbit_angle = 180
			orbit_distance = 45
			location = planet
		}
		spawn_megastructure = {
			type = "ring_world_ruined"
			orbit_angle = 270
			orbit_distance = 45
			location = planet
		}
		create_ambient_object = { type = "large_debris_object" location = solar_system }
		create_ambient_object = { type = "large_debris_object" location = solar_system }
		create_ambient_object = { type = "large_debris_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_01_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_02_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_01_object" location = solar_system }
		create_ambient_object = { type = "medium_debris_02_object" location = solar_system }
		create_ambient_object = { type = "small_debris_object" location = solar_system }
	}
}
 ####### Star Lifting System ######
star_lifting_system = {
	class = sc_pulsar
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8
	flags = { star_lifting_system }
	planet = {
		class = star
		orbit_distance = 0
		anomaly = star_lifting_category
		init_effect = { set_planet_flag = star_lifting_star }
	}
	change_orbit = 45
	planet = {
		count = { min = 1 max = 6 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
	init_effect = {
		random_system_planet = {
			limit = { is_star = yes }
			create_ambient_object = { type = broken_star_lifting_platform }
			last_created_ambient_object = {
				set_location = { target = prev distance = 20 }
				save_global_event_target_as = broken_star_lifting_platform
			}
		}
	}
}
 ####### Vechtar Zavonia System ######
vechtar_zavonia_system = {
	prevent_anomalies = yes
	class = rl_binary_stars
	usage = misc_system_init
	usage_odds = 0
	spawn_chance = 100
	flags = { vechtar_zavonia_system }
	planet = {
		count = 1
		class = star
		orbit_distance = 25
		orbit_angle = 0
		size = { min = 25 max = 30 }
		has_ring = no
	}
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 180
		size = { min = 25 max = 30 }
		has_ring = no
	}
	planet = {
		class = rl_unhabitable_planets
		count = { min = 1 max = 3 }
		orbit_distance = 30
		orbit_angle = { min = 90 max = 270 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
	planet = {
		class = pc_barren
		orbit_distance = 30
		init_effect = { set_planet_flag = utopian_planet save_global_event_target_as = utopian_planet }
	}
	change_orbit = 45
	planet = {
		class = rl_unhabitable_planets
		count = { min = 2 max = 6 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
		init_effect = { prevent_anomaly = yes }
	}
}
 # ABANDONED OBSERVATION OUTPOST
big_rip_system = {
	class = sc_f
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8
	flags = { big_rip_system }
	planet = { class = star orbit_distance = 0 }
	change_orbit = 20
	planet = {
		orbit_distance = 20
		count = { min = 0 max = 3 }
	}
	change_orbit = 20
	planet = {
		count = 1
		orbit_distance = 0
		class = "rl_habitable_normal"
		orbit_angle = { min = 90 max = 270 }
		size = { min = 12 max = 25 }
		change_orbit = 20
		tile_blockers = none
		anomaly = abandoned_outpost_category
		init_effect = {
			save_global_event_target_as = big_rip_planet
			set_planet_flag = big_rip_planet
			while = {
				count = 2
				random_tile = {
					limit = { has_blocker = no }
					set_blocker = "tb_city_ruins"
				}
			}
			while = {
				count = 3
				random_tile = {
					limit = { has_blocker = no }
					set_blocker = "tb_city_ruins"
					set_deposit = d_vast_society_deposit
				}
			}
			create_ambient_object = { type = abandoned_observation_outpost }
			last_created_ambient_object = {
				set_location = { target = prev distance = 10 }
				save_global_event_target_as = abandoned_observation_outpost
			}
		}
	}
}
time_loop_world_system = {
	class = sc_b
	prevent_anomalies = yes
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8
	flags = { time_loop_world_system }
	planet = { class = star orbit_distance = 0 }
	planet = {
		class = random_non_colonizable
		count = { min = 2 max = 4 }
		orbit_angle = { min = 90 max = 270 }
		orbit_distance = 35
		change_orbit = 15
		init_effect = { prevent_anomaly = yes }
	}
	planet = {
		count = 1
		orbit_distance = 0
		class = pc_desert
		orbit_angle = { min = 90 max = 270 }
		size = { min = 10 max = 15 }
		tile_blockers = none
		anomaly = time_loop_world
		init_effect = {
			set_planet_flag = time_loop_world
			save_global_event_target_as = time_loop_world
			change_pc = { class = pc_shielded inherit_entity = yes }
		}
	}
	planet = {
		count = { min = 1 max = 3 }
		orbit_distance = 30
		orbit_angle = { min = 90 max = 270 }
		class = random_non_colonizable
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 2 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
			init_effect = { prevent_anomaly = yes }
		}
		init_effect = { prevent_anomaly = yes }
	}
	change_orbit = 20
}
 ####### Simple Systems #######
 # Toxic Planet with Toxic Moon
toxic_planet_toxic_moon = {
	class = "rl_standard_stars"
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8
	flags = { toxic_moon_system }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	planet = {
		count = { min = 0 max = 2 }
		orbit_distance = 25
		orbit_angle = { min = 90 max = 270 }
	}
	planet = {
		orbit_distance = 40
		orbit_angle = { min = 90 max = 180 }
		class = pc_toxic
		change_orbit = @base_moon_distance
		moon = {
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
			class = pc_toxic
			init_effect = {
				prevent_anomaly = yes
				orbital_deposit_tile = { clear_deposits = yes add_deposit = d_vast_society_deposit }
			}
		}
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = {
				clear_deposits = yes
				add_deposit = d_vast_society_deposit
				add_deposit = d_vast_society_deposit
				add_deposit = d_vast_society_deposit
			}
			add_modifier = { modifier = building_blocks days = -1 }
		}
	}
	planet = {
		count = { min = 1 max = 3 }
		orbit_distance = 40
		orbit_angle = { min = 90 max = 270 }
	}
}
 # Shattered world
shattered_world_system = {
	class = "rl_standard_stars"
	usage = misc_system_init
	usage_odds = {
		base = 4
		modifier = { factor = 0 has_distar = no }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8
	flags = { shattered_world_system }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	planet = {
		count = { min = 2 max = 6 }
		orbit_distance = 25
		orbit_angle = { min = 90 max = 270 }
	}
	planet = {
		orbit_distance = 40
		orbit_angle = { min = 90 max = 180 }
		class = pc_shattered
		change_orbit = @base_moon_distance
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = {
				clear_deposits = yes
				add_deposit = d_vast_society_deposit
				add_deposit = d_vast_society_deposit
				add_deposit = d_vast_society_deposit
			}
		}
	}
	planet = {
		count = 1
		class = random_non_colonizable
		orbit_distance = 30
		orbit_angle = { min = 90 max = 270 }
		size = { min = 20 max = 30 }
		has_ring = no
		init_effect = {
			orbital_deposit_tile = { clear_deposits = yes add_deposit = d_rich_mineral_deposit }
		}
	}
}
 # Asteroid System
asteroid_system = {
	class = "rl_standard_stars"
	asteroid_belt = { type = rocky_asteroid_belt radius = 100 }
	usage = misc_system_init
	usage_odds = {
		base = 4
		modifier = { factor = 0 has_distar = no }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8
	flags = { asteroid_system }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	planet = {
		class = "pc_barren"
		orbit_distance = 30
		orbit_angle = 60
		size = 13
		has_ring = no
	}
	planet = {
		class = "pc_asteroid"
		orbit_distance = 70
		orbit_angle = -220
		size = 5
		has_ring = no
		init_effect = {
			orbital_deposit_tile = { clear_deposits = yes add_deposit = d_immense_mineral_deposit }
		}
	}
	planet = {
		class = "pc_asteroid"
		orbit_distance = 0
		orbit_angle = -87
		size = 5
		has_ring = no
	}
	planet = {
		class = "pc_asteroid"
		orbit_distance = 0
		orbit_angle = 285
		size = 5
		has_ring = no
		init_effect = {
			orbital_deposit_tile = { clear_deposits = yes add_deposit = d_immense_mineral_deposit }
		}
	}
	planet = {
		class = "pc_asteroid"
		orbit_distance = 0
		orbit_angle = 220
		size = 5
		has_ring = no
		init_effect = {
			orbital_deposit_tile = { clear_deposits = yes add_deposit = d_immense_mineral_deposit }
		}
	}
	planet = {
		class = "pc_asteroid"
		orbit_distance = 5
		orbit_angle = -80
		size = 5
		has_ring = no
	}
	planet = {
		class = "pc_frozen"
		orbit_distance = 40
		orbit_angle = -160
		size = { min = 10 max = 20 }
		has_ring = no
		change_orbit = 6
		moon = {
			class = "pc_frozen"
			size = 6
			orbit_distance = 2.5
			orbit_angle = 10
			has_ring = no
		}
		moon = {
			class = "pc_frozen"
			size = 9
			orbit_distance = 2.5
			orbit_angle = 80
			has_ring = no
		}
		init_effect = {
			orbital_deposit_tile = { clear_deposits = yes add_deposit = d_vast_energy_deposit }
		}
	}
}
 # Ice System
ice_system = {
	class = sc_m
	asteroid_belt = { type = icy_asteroid_belt radius = 145 }
	asteroid_belt = { type = icy_asteroid_belt radius = 205 }
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	flags = { ice_system }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 10 max = 18 }
		has_ring = no
	}
	change_orbit = 40
	planet = {
		count = 3
		class = "pc_frozen"
		orbit_distance = 25
		orbit_angle = { min = 0 max = 360 }
		size = { min = 10 max = 25 }
		has_ring = no
		change_orbit = 10
	}
	change_orbit = 30
	planet = {
		count = { min = 1 max = 2 }
		class = pc_ice_asteroid
		orbit_distance = 0
		orbit_angle = { min = 90 max = 270 }
	}
	planet = {
		class = pc_arctic
		orbit_distance = 30
		orbit_angle = 80
		size = 16
		has_ring = no
		change_orbit = @base_moon_distance
		moon = {
			class = "pc_arctic"
			size = { min = 12 max = 16 }
			orbit_distance = 2
			has_ring = no
		}
		moon = {
			class = "pc_frozen"
			size = 6
			orbit_distance = 5
			orbit_angle = { min = 90 max = 270 }
			has_ring = no
		}
	}
	change_orbit = 30
	planet = {
		count = { min = 1 max = 2 }
		class = pc_ice_asteroid
		orbit_distance = 0
		orbit_angle = { min = 90 max = 270 }
	}
	planet = {
		class = "pc_frozen"
		orbit_distance = 30
		orbit_angle = -160
		size = { min = 10 max = 20 }
		has_ring = no
		change_orbit = 6
		moon = {
			class = "pc_frozen"
			size = 9
			orbit_distance = 2.5
			orbit_angle = 80
			has_ring = no
		}
	}
	planet = {
		class = "pc_arctic"
		orbit_distance = 20
		orbit_angle = { min = -160 max = 160 }
		size = { min = 12 max = 20 }
		has_ring = no
		change_orbit = 6
	}
}
 # High Energy System
high_energy_system = {
	class = sc_b
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	flags = { high_energy_system }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		init_effect = {
			orbital_deposit_tile = {
				clear_deposits = yes
				add_deposit = d_immense_energy_deposit
				add_deposit = d_immense_energy_deposit
				add_deposit = d_immense_energy_deposit
			}
		}
	}
	planet = {
		class = pc_molten
		orbit_distance = 40
		orbit_angle = 30
		size = 13
		has_ring = no
		moon = {
			class = "pc_molten"
			size = { min = 9 max = 12 }
			orbit_distance = 10
			orbit_angle = 180
			has_ring = no
		}
		init_effect = {
			orbital_deposit_tile = { clear_deposits = yes add_deposit = d_vast_energy_deposit }
		}
	}
	planet = {
		count = { min = 3 max = 6 }
		class = "pc_molten"
		orbit_distance = 30
		orbit_angle = { min = 90 max = 270 }
		size = { min = 10 max = 20 }
		has_ring = no
	}
}
 ####### HATCHLING/VOIDSPAWN SYSTEM ######
guardians_init_hatchling = {
	class = sc_g
	prevent_anomalies = yes
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = {
			factor = 0
			OR = { is_fe_cluster = yes has_star_flag = empire_cluster }
		}
		modifier = { factor = 0 is_bottleneck_system = yes }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	flags = {
		guardians_hatchling_system
		guardian
		hostile_system
	}
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	planet = {
		count = { min = 1 max = 2 }
		orbit_distance = 25
		orbit_angle = { min = 90 max = 270 }
	}
	planet = {
		class = rl_voidspawn_egg
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		size = 20
		has_ring = no
		modifiers = none
		init_effect = {
			save_global_event_target_as = hatchling_egg
			set_planet_flag = hatchling_egg
			prevent_anomaly = yes
			random_list = {
				60 = { set_planet_flag = hatchling_will_trigger }
				40 = { }
			}
		}
	}
	planet = {
		count = { min = 2 max = 4 }
		orbit_distance = 30
		orbit_angle = { min = 90 max = 270 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
	change_orbit = 15
}
 # Great Wound
great_wound_system = {
	class = sc_black_hole
	name = "NAME_Great_Wound"
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_star_flag = empire_cluster }
		modifier = { factor = 0 is_bottleneck_system = yes }
	}
	max_instances = 1
	spawn_chance = 100
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	planet = {
		class = star
		orbit_distance = 0
		size = 40
		init_effect = {
			save_event_target_as = patrol_1
			orbital_deposit_tile = { clear_deposits = yes add_deposit = d_dark_matter_deposit_3 }
		}
	}
	change_orbit = 60
	planet = {
		class = "pc_black_hole"
		name = "NAME_Subspace_Rupture_1"
		orbit_distance = 0
		orbit_angle = 1
		size = 20
		has_ring = no
	}
	change_orbit = 60
	planet = {
		class = "pc_black_hole"
		name = "NAME_Subspace_Rupture_2"
		orbit_distance = 0
		orbit_angle = 210
		size = 20
		has_ring = no
		init_effect = { save_event_target_as = patrol_2 clear_deposits = yes }
	}
	change_orbit = 60
	planet = {
		class = "pc_black_hole"
		name = "NAME_Subspace_Rupture_3"
		orbit_distance = 0
		orbit_angle = 75
		size = 10
		has_ring = no
	}
	change_orbit = 10
	planet = {
		class = "pc_black_hole"
		name = "NAME_Subspace_Rupture_4"
		orbit_distance = 0
		orbit_angle = 120
		size = 20
		has_ring = no
		init_effect = { clear_deposits = yes }
	}
	planet = {
		class = "pc_black_hole"
		name = "NAME_Subspace_Rupture_5"
		orbit_distance = 0
		orbit_angle = 200
		size = 15
		has_ring = no
	}
	change_orbit = 5
	planet = {
		class = "pc_black_hole"
		name = "NAME_Subspace_Rupture_6"
		orbit_distance = 0
		orbit_angle = 90
		size = 15
		has_ring = no
		init_effect = { save_event_target_as = patrol_3 }
	}
	planet = {
		class = "pc_black_hole"
		name = "NAME_Subspace_Rupture_7"
		orbit_distance = 0
		orbit_angle = 130
		size = 20
		has_ring = no
		init_effect = { clear_deposits = yes }
	}
	change_orbit = 30
	planet = {
		class = "pc_black_hole"
		name = "NAME_Subspace_Rupture_8"
		orbit_distance = 0
		orbit_angle = 245
		size = 10
		has_ring = no
	}
	change_orbit = 10
	planet = {
		class = "pc_black_hole"
		name = "NAME_Subspace_Rupture_9"
		orbit_distance = 0
		orbit_angle = 110
		size = 20
		has_ring = no
		init_effect = { clear_deposits = yes }
	}
	change_orbit = 10
	planet = {
		class = "pc_black_hole"
		name = "NAME_Subspace_Rupture_10"
		orbit_distance = 0
		orbit_angle = 170
		size = 10
		has_ring = no
		init_effect = { save_event_target_as = patrol_4 }
	}
	init_effect = {
		create_cloud_country = yes
		event_target:cloud_country = {
			if = {
				limit = { NOT = { has_modifier = cloud_power } }
				add_modifier = { modifier = cloud_power days = -1 }
			}
			create_fleet = {
				name = "NAME_Void_Cloud"
				effect = {
					set_owner = event_target:cloud_country
					while = {
						count = 6
						create_ship = { name = "" design = "NAME_Cloud_Entity" }
					}
					set_location = event_target:patrol_1
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = self
					set_aggro_range = 500
					queue_actions = {
						repeat = {
							find_closest_planet = {
								trigger = { id = "great_wound.1.trigger.1" is_planet = event_target:patrol_4 }
								found_planet = { move_to = this orbit_planet = this }
							}
							find_closest_planet = {
								trigger = { id = "great_wound.1.trigger.2" is_planet = event_target:patrol_3 }
								found_planet = { move_to = this orbit_planet = this }
							}
							find_closest_planet = {
								trigger = { id = "great_wound.1.trigger.3" is_planet = event_target:patrol_2 }
								found_planet = { move_to = this orbit_planet = this }
							}
							find_closest_planet = {
								trigger = { id = "great_wound.1.trigger.4" is_planet = event_target:patrol_1 }
								found_planet = { move_to = this orbit_planet = this }
							}
						}
					}
				}
			}
			create_fleet = {
				name = "NAME_Void_Cloud"
				effect = {
					set_owner = event_target:cloud_country
					while = {
						count = 6
						create_ship = { name = "" design = "NAME_Cloud_Entity" }
					}
					set_location = event_target:patrol_4
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = self
					set_aggro_range = 500
					queue_actions = {
						repeat = {
							find_closest_planet = {
								trigger = { id = "great_wound.2.trigger.1" is_planet = event_target:patrol_1 }
								found_planet = { move_to = this orbit_planet = this }
							}
							find_closest_planet = {
								trigger = { id = "great_wound.2.trigger.2" is_planet = event_target:patrol_2 }
								found_planet = { move_to = this orbit_planet = this }
							}
							find_closest_planet = {
								trigger = { id = "great_wound.2.trigger.3" is_planet = event_target:patrol_3 }
								found_planet = { move_to = this orbit_planet = this }
							}
							find_closest_planet = {
								trigger = { id = "great_wound.2.trigger.4" is_planet = event_target:patrol_4 }
								found_planet = { move_to = this orbit_planet = this }
							}
						}
					}
				}
			}
			create_fleet = {
				name = "NAME_Void_Cloud"
				effect = {
					set_owner = event_target:cloud_country
					while = {
						count = 6
						create_ship = { name = "" design = "NAME_Cloud_Entity" }
					}
					set_location = event_target:patrol_2
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = self
					set_aggro_range = 500
					queue_actions = {
						repeat = {
							find_closest_planet = {
								trigger = { id = "great_wound.3.trigger.3" is_planet = event_target:patrol_1 }
								found_planet = { move_to = this orbit_planet = this }
							}
							find_closest_planet = {
								trigger = { id = "great_wound.3.trigger.4" is_planet = event_target:patrol_2 }
								found_planet = { move_to = this orbit_planet = this }
							}
							find_closest_planet = {
								trigger = { id = "great_wound.3.trigger.1" is_planet = event_target:patrol_3 }
								found_planet = { move_to = this orbit_planet = this }
							}
							find_closest_planet = {
								trigger = { id = "great_wound.3.trigger.2" is_planet = event_target:patrol_4 }
								found_planet = { move_to = this orbit_planet = this }
							}
						}
					}
				}
			}
		}
	}
}
 # Primitive Robot Civilization (Rage Virus Chain)
primitive_robot_system = {
	class = "rl_standard_stars"
	asteroid_belt = { type = rocky_asteroid_belt radius = 125 }
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	 #scaled_#spawn_chance = 8	# scales by galaxy size (1000 stars = 10x base)
	max_instances = 1
	spawn_chance = 100
	primitive_system = yes  # usage odds modified by primitives setup slider
	flags = { primitive_robot_system }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		tile_blockers = none
		has_ring = no
	}
	change_orbit = 25
	planet = {
		count = 2
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		size = { min = 8 max = 12 }
		class = "rl_unhabitable_planets"
	}
	planet = {
		count = 1
		orbit_distance = 25
		orbit_angle = { min = 90 max = 270 }
		size = { min = 12 max = 25 }
		class = "rl_cool_moist_planets"
		anomaly = "DISTAR_ROBO_CAT"
		init_effect = {
			set_planet_flag = primitive_robot_planet
			add_modifier = { modifier = primitive_robots years = -1 }
			prevent_anomaly = yes
			create_species = {
				name = "NAME_Primitive_Robot"
				plural = "NAME_Primitive_Robots"
				class = ROBOT
				portrait = "default_robot"
				namelist = "PRT1"
				traits = { trait = "trait_robotic_1" trait = "trait_mechanical" }
				pops_can_be_colonizers = no
				pops_can_migrate = no
				pops_can_reproduce = no
				pops_can_join_factions = no
				pops_can_be_slaves = no
				can_generate_leaders = no
				consumer_goods = yes
				pop_ethics = no
				 #More will not be buildable due to 0 pop growth
				effect = { save_event_target_as = primitive_robot_species }
			}
			every_tile = {
				limit = { has_blocker = yes }
				remove_blocker = yes
			}
			IF = {
				limit = { planet_size < 18 }
				while = {
					count = 2
					random_tile = {
						limit = { has_blocker = no }
						set_blocker = "tb_city_ruins"
						random_list = {
							33 = { set_deposit = d_vast_engineering_deposit }
							33 = { set_deposit = d_vast_physics_deposit }
							33 = { set_deposit = d_vast_society_deposit }
						}
					}
				}
				while = {
					count = 2
					random_tile = {
						limit = { has_blocker = no }
						set_blocker = "tb_failing_infrastructure"
						random_list = {
							25 = { set_deposit = d_rich_mineral_deposit }
							25 = { set_deposit = d_rich_energy_deposit }
							25 = { set_deposit = d_rich_mineral_energy_deposit }
							25 = { set_deposit = d_rich_food_mineral_deposit }
						}
					}
				}
				while = {
					count = 2
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_building = "building_primitive_factory"
						random_list = {
							25 = { set_deposit = d_rich_mineral_deposit }
							25 = { set_deposit = d_rich_energy_deposit }
							25 = { set_deposit = d_vast_mineral_deposit }
							25 = { set_deposit = d_vast_energy_deposit }
						}
					}
				}
				random_tile = {
					limit = { has_blocker = no has_building = no }
					set_building = "building_primitive_farm"
					random_list = {
						33 = { set_deposit = d_farmland_deposit }
						33 = { set_deposit = d_rich_farmland_deposit }
						33 = { set_deposit = d_vast_farmland_deposit }
					}
				}
				while = {
					count = 3
					best_tile_for_pop = { create_pop = { species = event_target:primitive_robot_species } }
					}
				}
				else_if = {
					while = {
						count = 3
						random_tile = {
							limit = { has_blocker = no }
							set_blocker = "tb_city_ruins"
							random_list = {
								33 = { set_deposit = d_vast_engineering_deposit }
								33 = { set_deposit = d_vast_physics_deposit }
								33 = { set_deposit = d_vast_society_deposit }
							}
						}
					}
					while = {
						count = 3
						random_tile = {
							limit = { has_blocker = no }
							set_blocker = "tb_failing_infrastructure"
							random_list = {
								25 = { set_deposit = d_rich_mineral_deposit }
								25 = { set_deposit = d_rich_energy_deposit }
								25 = { set_deposit = d_rich_mineral_energy_deposit }
								25 = { set_deposit = d_rich_food_mineral_deposit }
							}
						}
					}
					while = {
						count = 3
						random_tile = {
							limit = { has_blocker = no has_building = no }
							set_building = "building_primitive_factory"
							random_list = {
								25 = { set_deposit = d_rich_mineral_deposit }
								25 = { set_deposit = d_rich_energy_deposit }
								25 = { set_deposit = d_vast_mineral_deposit }
								25 = { set_deposit = d_vast_energy_deposit }
							}
						}
					}
					random_tile = {
						limit = { has_blocker = no has_building = no }
						set_building = "building_primitive_farm"
						random_list = {
							33 = { set_deposit = d_farmland_deposit }
							33 = { set_deposit = d_rich_farmland_deposit }
							33 = { set_deposit = d_vast_farmland_deposit }
						}
					}
					while = {
						count = 4
						best_tile_for_pop = { create_pop = { species = event_target:primitive_robot_species } }
					}
				}
			event_target:primitive_robot_species = { set_species_flag = primitive_robots_flag }
		}
	}
	change_orbit = 38
	planet = {
		count = { min = 1 max = 3 }
		class = pc_asteroid
		orbit_distance = 0
		orbit_angle = { min = 0 max = 360 }
	}
	planet = {
		class = pc_gas_giant
		orbit_distance = 35
		orbit_angle = { min = 90 max = 270 }
		size = { min = 20 max = 30 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 2 }
			size = { min = 6 max = 20 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 6
		}
	}
}
 # Superflare Star System
superflare_system = {
	class = "sc_g"
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	 #scaled_#spawn_chance = 8
	max_instances = 1
	spawn_chance = 100
	flags = { superflare_system }
	planet = {
		class = star
		orbit_distance = 0
		init_effect = {
			add_modifier = { modifier = superflare_star days = -1 }
			orbital_deposit_tile = { clear_deposits = yes add_deposit = d_vast_physics_deposit }
		}
	}
	change_orbit = 40
	planet = {
		count = { min = 2 max = 3 }
		class = "rl_no_atmosphere_planets"
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		size = { min = 8 max = 15 }
	}
	planet = {
		count = 1
		orbit_distance = 30
		class = "pc_frozen"
		orbit_angle = { min = 90 max = 270 }
		size = { min = 9 max = 24 }
		anomaly = "DISTAR_FLARE_CAT"
		init_effect = {
			orbital_deposit_tile = { clear_deposits = yes }
			set_planet_flag = frozen_in_time_flag
		}
	}
	planet = {
		class = pc_gas_giant
		orbit_distance = 40
		orbit_angle = { min = 90 max = 270 }
		size = { min = 30 max = 40 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 1 max = 4 }
			size = { min = 6 max = 12 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 7
			class = "rl_no_atmosphere_planets"
		}
		moon = {
			count = 1
			size = { min = 12 max = 24 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 9
			class = "pc_nuked"
			init_effect = {
				add_modifier = { modifier = superflare_planet days = -1 }
				every_tile = {
					limit = {
						OR = { has_blocker = "tb_city_ruins" has_blocker = "tb_bomb_crater" }
					}
					remove_blocker = yes
					set_blocker = "tb_radioactive_wasteland"
				}
				while = {
					limit = { any_tile = { has_deposit = no } }
					random_tile = {
						limit = { has_deposit = no }
						random_list = {
							1 = { set_deposit = d_energy_deposit }
							1 = { set_deposit = d_rich_energy_deposit }
							1 = { set_deposit = d_vast_energy_deposit }
						}
					}
				}
			}
		}
	}
}
 # Vacuum Collapse System
collapse_system = {
	class = "sc_m"
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	primitive_system = yes
	#scaled_#spawn_chance = 8
	spawn_chance = 100
	max_instances = 1
	flags = { collapse_system }
	planet = { class = star orbit_distance = 0 }
	change_orbit = 40
	planet = {
		count = { min = 1 max = 3 }
		class = "rl_unhabitable_planets"
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		size = { min = 8 max = 15 }
	}
	planet = {
		count = 1
		class = pc_gas_giant
		orbit_distance = 30
		orbit_angle = { min = 90 max = 270 }
		size = { min = 30 max = 40 }
		change_orbit = @base_moon_distance
		moon = {
			count = 1
			size = { min = 12 max = 24 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 10
			class = "pc_gaia"
			anomaly = "DISTAR_COLLAPSE_CAT"
			init_effect = {
				create_ambient_object = { type = derelict_particle_accelerator }
				last_created_ambient_object = {
					set_location = { target = prev distance = 10 }
					save_global_event_target_as = derelict_particle_accelerator
				}
				create_species = {
					name = random
					plural = random_non_machine
					class = MOL
					portrait = mol7
					homeworld = THIS
					namelist = "MOL2"
					traits = {
						trait = "trait_extremely_adaptive"
						trait = "trait_slow_breeders"
						trait = "trait_sedentary"
						trait = "trait_pc_gaia_preference"
					}
				}
				create_country = {
					name = random
					authority = auth_democratic
					civics = { civic = civic_secret_of_fire civic = civic_the_wheel }
					species = last_created
					ethos = { ethic = "ethic_fanatic_pacifist" ethic = "ethic_materialist" }
					flag = {
						icon = { category = "special" file = "primitive.dds" }
						background = { category = "backgrounds" file = "new_dawn.dds" }
						colors = {
							"turquoise"
							"green"
							"null"
							"null"
						}
					}
					type = primitive
				}
				last_created_country = {
					set_country_flag = stone_age
					set_primitive_age = stone_age
					set_graphical_culture = preindustrial_01
				}
				set_owner = last_created_country
				set_capital = yes
				every_tile = {
					limit = { has_blocker = "tb_dangerous_wildlife" }
					remove_blocker = yes
				}
				while = {
					count = 4
					random_tile = {
						limit = {
							has_blocker = no
							has_grown_pop = no
							has_growing_pop = no
						}
						create_pop = { species = last_created }
					}
				}
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
		}
	}
	planet = {
		count = 1
		class = pc_gas_giant
		orbit_distance = 40
		orbit_angle = { min = 90 max = 270 }
		size = { min = 20 max = 30 }
		has_ring = yes
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 1 max = 3 }
			size = { min = 6 max = 12 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 7
			class = "rl_no_atmosphere_planets"
		}
	}
}
 # Old Foes System
old_foes_system = {
	class = "rl_standard_stars"
	asteroid_belt = { type = rocky_asteroid_belt radius = 70 }
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	primitive_system = yes
	 #scaled_#spawn_chance = 8
	spawn_chance = 100
	max_instances = 1
	flags = { old_foes_system }
	planet = { class = star orbit_distance = 0 }
	change_orbit = 30
	planet = {
		count = 2
		class = "rl_unhabitable_planets"
		orbit_distance = 30
		orbit_angle = { min = 90 max = 270 }
		size = { min = 10 max = 16 }
	}
	planet = {
		count = 1
		class = "pc_nuked"
		orbit_distance = 35
		orbit_angle = { min = 90 max = 270 }
		size = { min = 12 max = 24 }
		init_effect = {
			prevent_anomaly = yes
			set_planet_flag = czyrni_planet
			create_species = {
				name = "NAME_Czyrni"
				plural = "NAME_Czyrni"
				class = HUM
				portrait = humanoid_02
				namelist = "HUM3"
				traits = {
					trait = "trait_pc_nuked_preference"
					trait = trait_intelligent
					trait = trait_quarrelsome
					trait = trait_solitary
					trait = trait_charismatic
					trait = trait_talented
				}
			}
			create_country = {
				name = random
				authority = random
				civics = { civic = civic_secret_of_fire civic = civic_the_wheel }
				species = last_created
				ethos = random
				flag = {
					icon = { category = "special" file = "primitive.dds" }
					background = { category = "backgrounds" file = "new_dawn.dds" }
					colors = {
						"turquoise"
						"green"
						"null"
						"null"
					}
				}
				type = primitive
			}
			last_created_country = {
				set_country_flag = bronze_age
				set_primitive_age = bronze_age
				set_graphical_culture = preindustrial_01
			}
			set_owner = last_created_country
			set_capital = yes
			while = {
				count = 3
				best_tile_for_pop = { create_pop = { species = last_created } }
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
		}
	}
	planet = {
		count = 1
		class = "pc_nuked"
		orbit_distance = 40
		orbit_angle = { min = 90 max = 270 }
		size = { min = 12 max = 24 }
		moon = {
			count = 1
			size = { min = 6 max = 12 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 10
		}
		init_effect = {
			prevent_anomaly = yes
			set_planet_flag = pyorun_planet
			create_species = {
				name = "NAME_Pyorun"
				plural = "NAME_Pyorun"
				class = HUM
				portrait = humanoid_03
				namelist = "HUM2"
				traits = {
					trait = "trait_pc_nuked_preference"
					trait = trait_strong
					trait = trait_quarrelsome
					trait = trait_charismatic
					trait = trait_resilient
				}
			}
			create_country = {
				name = random
				authority = random
				civics = { civic = civic_secret_of_fire civic = civic_the_wheel }
				species = last_created
				ethos = random
				flag = {
					icon = { category = "special" file = "primitive.dds" }
					background = { category = "backgrounds" file = "new_dawn.dds" }
					colors = {
						"turquoise"
						"green"
						"null"
						"null"
					}
				}
				type = primitive
			}
			last_created_country = {
				set_country_flag = bronze_age
				set_primitive_age = bronze_age
				set_graphical_culture = preindustrial_01
			}
			set_owner = last_created_country
			set_capital = yes
			while = {
				count = 3
				best_tile_for_pop = { create_pop = { species = last_created } }
			}
			while = {
				count = 2
				random_tile = {
					limit = {
						has_blocker = no
						has_building = no
						has_grown_pop = yes
					}
					set_building = "building_primitive_farm"
					set_deposit = d_farmland_deposit
				}
			}
		}
	}
	planet = {
		count = 1
		class = pc_gas_giant
		orbit_distance = 40
		orbit_angle = { min = 90 max = 270 }
		size = { min = 20 max = 30 }
		has_ring = no
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 3 }
			size = { min = 6 max = 12 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 7
		}
	}
}
 # Scavenger Bot System
scavenger_system = {
	class = "sc_m_giant"
	asteroid_belt = { type = rocky_asteroid_belt radius = 124 }
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
		modifier = { factor = 0 is_bottleneck_system = yes }
	}
	 #scaled_#spawn_chance = 8
	spawn_chance = 100
	max_instances = 1
	flags = { scavenger_bot_system }
	planet = {
		class = star
		orbit_distance = 0
		init_effect = {
			prevent_anomaly = yes
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 37
					angle = 30
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 40
					angle = 30
				}
				save_global_event_target_as = debris_field_01
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 43
					angle = 30
				}
			}
			while = {
				count = 2
				create_ambient_object = { type = "large_debris_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 65
						angle = random
					}
				}
			}
			while = {
				count = 1
				create_ambient_object = { type = "ancient_battlefield_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 65
						angle = random
					}
					save_global_event_target_as = debris_field_02
				}
			}
			create_ambient_object = { type = "derelict_ship_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 80
					angle = random
				}
			}
			while = {
				count = 3
				create_ambient_object = { type = "medium_debris_01_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 80
						angle = random
					}
				}
			}
			while = {
				count = 4
				create_ambient_object = { type = "small_debris_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 90
						angle = random
					}
				}
			}
			while = {
				count = 3
				create_ambient_object = { type = "large_debris_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 100
						angle = random
					}
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 97
					angle = 270
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 100
					angle = 265
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 100
					angle = 270
				}
				save_global_event_target_as = debris_field_03
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 100
					angle = 275
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 103
					angle = 270
				}
			}
			while = {
				count = 2
				create_ambient_object = { type = "abandoned_ship_2_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 100
						angle = random
					}
				}
			}
			create_ambient_object = { type = "derelict_ship_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 110
					angle = random
				}
			}
			while = {
				count = 4
				create_ambient_object = { type = "medium_debris_01_object" location = solar_system }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 110
						angle = random
					}
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 117
					angle = 180
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 120
					angle = 175
				}
			}
			while = {
				count = 4
				create_ambient_object = { type = "large_debris_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 120
						angle = random
					}
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 120
					angle = 180
				}
				save_global_event_target_as = debris_field_04
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 120
					angle = 185
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 123
					angle = 180
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 115
					angle = 0
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 117
					angle = 350
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 117
					angle = 0
				}
				save_global_event_target_as = debris_field_05
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 117
					angle = 10
				}
			}
			create_ambient_object = { type = "large_debris_object" location = this }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 120
					angle = 0
				}
			}
		}
	}
	change_orbit = 40
	planet = {
		count = 1
		class = "pc_broken"
		size = { min = 10 max = 15 }
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = {
				clear_deposits = yes
				add_deposit = d_immense_mineral_deposit
				add_deposit = d_immense_mineral_deposit
				add_deposit = d_immense_mineral_deposit
			}
		}
	}
	change_orbit = 30
	planet = {
		count = 1
		class = "pc_broken"
		size = { min = 10 max = 25 }
		has_ring = no
		init_effect = {
			prevent_anomaly = yes
			orbital_deposit_tile = {
				clear_deposits = yes
				add_deposit = d_immense_mineral_deposit
				add_deposit = d_immense_mineral_deposit
			}
		}
	}
	change_orbit = 27
	planet = {
		count = { min = 1 max = 3 }
		class = pc_asteroid
		orbit_distance = 0
		orbit_angle = { min = 0 max = 360 }
		init_effect = { prevent_anomaly = yes }
	}
	init_effect = {
		create_country = {
			name = "NAME_Autonomous_Repurposer"
			type = guardian_scavenger_bot
			flag = {
				icon = { category = "spherical" file = "flag_spherical_16.dds" }
				background = { category = "backgrounds" file = "00_solid.dds" }
				colors = {
					"black"
					"black"
					"null"
					"null"
				}
			}
		}
		last_created_country = {
			if = {
				limit = { NOT = { has_modifier = scavenger_bot_power } }
				add_modifier = { modifier = scavenger_bot_power days = -1 }
			}
			guardian_difficulty = yes
			save_global_event_target_as = scavenger_bot_country
		}
		event_target:scavenger_bot_country = {
			create_fleet = {
				name = "NAME_Scavenger_Bot"
				settings = { spawn_debris = no is_boss = yes }
				effect = {
					set_owner = event_target:scavenger_bot_country
					create_ship = { name = "NAME_Modulus" design = "NAME_Reclaimer" }
					set_location = {
						target = event_target:debris_field_01
						distance = 30
						angle = random
					}
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = self
					set_aggro_range = 50
					save_global_event_target_as = scavenger_bot_fleet
					queue_actions = {
						repeat = {
							find_random_planet = {
								trigger = { id = scav.1 always = yes }
								found_planet = {
									move_to = event_target:debris_field_01
									wait = { duration = 25 random = 5 }
								}
							}
							find_random_planet = {
								trigger = { id = scav.2 always = yes }
								found_planet = {
									move_to = event_target:debris_field_02
									wait = { duration = 25 random = 5 }
								}
							}
							find_random_planet = {
								trigger = { id = scav.3 always = yes }
								found_planet = {
									move_to = event_target:debris_field_04
									wait = { duration = 25 random = 5 }
								}
							}
							find_random_planet = {
								trigger = { id = scav.4 always = yes }
								found_planet = {
									move_to = event_target:debris_field_03
									wait = { duration = 25 random = 5 }
								}
							}
							find_random_planet = {
								trigger = { id = scav.5 always = yes }
								found_planet = {
									move_to = event_target:debris_field_05
									wait = { duration = 25 random = 5 }
								}
							}
						}
					}
				}
			}
		}
	}
}
 #Sea of Consciousness System
living_planet_system = {
	class = "sc_a"
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	 #scaled_#spawn_chance = 8
	spawn_chance = 100
	max_instances = 1
	flags = { living_planet_system }
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 1
		size = { min = 20 max = 30 }
		has_ring = no
	}
	change_orbit = 45
	planet = {
		count = { min = 1 max = 3 }
		class = "rl_unhabitable_planets"
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		size = { min = 8 max = 15 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
	planet = {
		class = "pc_ocean"
		orbit_distance = 40
		orbit_angle = { min = 90 max = 270 }
		size = 24
		has_ring = yes
		anomaly = DISTAR_LIVING_CAT
		init_effect = {
			set_planet_flag = living_planet
			add_modifier = { modifier = living_sea years = -1 }
			prevent_anomaly = yes
			every_tile = {
				limit = { has_blocker = "tb_dangerous_wildlife" }
				remove_blocker = yes
			}
			random_tile = {
				limit = { has_deposit = no }
				set_deposit = d_betharian_deposit
			}
		}
	}
	change_orbit = 20
	planet = {
		count = { min = 1 max = 2 }
		orbit_distance = 60
		class = pc_gas_giant
		orbit_angle = { min = 90 max = 270 }
		size = 25
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 1 max = 4 }
			size = { min = 8 max = 20 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 6
		}
	}
}
 # Elderly Tiyanki System
elderly_tiyanki_system = {
	class = "rl_all_stars"
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
		modifier = { factor = 0 is_bottleneck_system = yes }
	}
	 #scaled_#spawn_chance = 8
	spawn_chance = 100
	max_instances = 1
	flags = { elderly_tiyanki_system }
	planet = {
		class = star
		orbit_distance = 0
		init_effect = {
			prevent_anomaly = yes
			while = {
				count = 2
				create_ambient_object = { type = "large_debris_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 100
						angle = random
					}
				}
			}
			while = {
				count = 2
				create_ambient_object = { type = "medium_debris_01_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 70
						angle = random
					}
				}
			}
			while = {
				count = 2
				create_ambient_object = { type = "large_debris_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 90
						angle = random
					}
				}
			}
			while = {
				count = 3
				create_ambient_object = { type = "small_debris_object" location = this }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 110
						angle = random
					}
				}
			}
		}
	}
	change_orbit = 45
	planet = {
		count = { min = 1 max = 2 }
		class = "rl_all_normal_planets"
		orbit_distance = 30
		orbit_angle = { min = 0 max = 360 }
		init_effect = { prevent_anomaly = yes }
	}
	change_orbit = 30
	planet = {
		count = 1
		class = "pc_gaia"
		size = { min = 12 max = 25 }
		init_effect = { prevent_anomaly = yes }
	}
	change_orbit = 30
	planet = {
		count = 1
		class = "pc_gas_giant"
		size = { min = 25 max = 30 }
		init_effect = { prevent_anomaly = yes }
	}
	change_orbit = 30
	planet = {
		count = 1
		class = "pc_gas_giant"
		size = { min = 25 max = 30 }
		has_ring = yes
		init_effect = { prevent_anomaly = yes }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 1 max = 4 }
			size = { min = 6 max = 16 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 8
			class = "rl_unhabitable_planets"
			init_effect = { prevent_anomaly = yes }
		}
	}
	change_orbit = 20
	init_effect = {
		create_country = {
			name = "NAME_Tiyanki_Space_Whale_Ancient"
			type = guardian_elderly_tiyanki
			flag = {
				icon = { category = "zoological" file = "flag_zoological_17.dds" }
				background = { category = "backgrounds" file = "00_solid.dds" }
				colors = {
					"blue"
					"blue"
					"null"
					"null"
				}
			}
		}
		last_created_country = {
			if = {
				limit = { NOT = { has_modifier = elderly_tiyanki_power } }
				add_modifier = { modifier = elderly_tiyanki_power days = -1 }
			}
			guardian_difficulty = yes
			save_global_event_target_as = elderly_tiyanki_country
		}
		random_system_planet = {
			limit = { is_star = no }
			save_event_target_as = new_location
		}
		random_system_planet = {
			limit = { is_star = yes }
			save_event_target_as = start_point
			event_target:elderly_tiyanki_country = {
				create_fleet = {
					name = "NAME_Elderly_Tiyanki"
					settings = { spawn_debris = no is_boss = yes }
					effect = {
						set_owner = event_target:elderly_tiyanki_country
						create_ship = { name = "NAME_Elder" design = "NAME_Progenitor" }
						set_location = event_target:start_point
						set_fleet_stance = aggressive
						set_aggro_range_measure_from = self
						set_aggro_range = 50
						save_global_event_target_as = elderly_tiyanki_fleet
						auto_move_to_planet = {
							target = event_target:new_location
							clear_auto_move_on_arrival = no  # distar.136 sets a new auto move target
						}
					}
				}
			}
		}
	}
	change_orbit = 20
	planet = {
		count = 1
		class = "pc_gas_giant"
		size = { min = 20 max = 30 }
		init_effect = { prevent_anomaly = yes }
	}
}
 ### RUINED EMPIRE: JUNKHEAP RATLING SYSTEMS
 # Junkheap Ratling Home System
ratling_1_1 = {
	class = "sc_pulsar"
	asteroid_belt = { type = rocky_asteroid_belt radius = 130 }
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = {
			factor = 0
			NOT = { host_has_dlc = "Utopia" }
		}
		modifier = {
			factor = 0
			any_playable_country = { is_ai = no species_portrait = mam_rat }
		}
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	 #scaled_#spawn_chance = 8
	spawn_chance = 100
	max_instances = 1
	flags = {
		ruined_empire
		ratling_home_system
		ratling_system
	}
	planet = {
		class = star
		orbit_distance = 0
		init_effect = {
			orbital_deposit_tile = { clear_deposits = yes add_deposit = d_immense_engineering_deposit }
			create_ambient_object = { type = "abandoned_starbase_01_object" }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 15
					angle = random
				}
			}
			create_ambient_object = { type = "large_debris_object" }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 15
					angle = random
				}
			}
			create_ambient_object = { type = "ancient_battlefield_02_object" }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 60
					angle = random
				}
			}
		}
	}
	change_orbit = 30
	planet = {
		count = 3
		class = "rl_unhabitable_planets"
		orbit_distance = 30
		orbit_angle = { min = 90 max = 270 }
		size = { min = 10 max = 16 }
		init_effect = {
			prevent_anomaly = yes
			create_ambient_object = { type = "small_debris_object" }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 0
					angle = random
				}
			}
		}
	}
	planet = {
		name = "NAME_Ruinous_Core"
		count = 1
		class = "pc_nuked"
		orbit_distance = 40
		orbit_angle = { min = 90 max = 270 }
		size = { min = 18 max = 24 }
		init_effect = {
			prevent_anomaly = yes
			set_planet_flag = ratling_planet
			orbital_deposit_tile = { clear_deposits = yes add_deposit = d_vast_engineering_deposit }
			every_tile = {
				limit = {
					has_blocker = yes
					NOR = {
						has_blocker = "tb_radioactive_wasteland"
						has_blocker = "tb_city_ruins"
						has_blocker = "tb_crater"
					}
				}
				remove_blocker = yes
				random_list = {
					1 = { set_blocker = "tb_radioactive_wasteland" }
					1 = { set_blocker = "tb_city_ruins" }
					1 = { set_blocker = "tb_crater" }
				}
			}
			while = {
				count = 2
				random_tile = {
					limit = { has_deposit = no }
					set_deposit = d_vast_energy_deposit
				}
			}
			every_tile = {
				limit = { has_building = no has_blocker = no }
				set_building = "building_junkheap"
			}
			set_planet_entity = { picture = pc_junkheap }
			save_global_event_target_as = ratling_capital
			create_ambient_object = { type = "abandoned_starbase_01_object" }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 5
					angle = random
				}
			}
			create_ambient_object = { type = "large_debris_object" }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 5
					angle = random
				}
			}
		}
		change_orbit = @base_moon_distance
		moon = {
			name = "NAME_Lost_Encampment"
			count = 1
			class = "pc_nuked"
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
			size = { min = 12 max = 16 }
			init_effect = {
				prevent_anomaly = yes
				set_planet_flag = ratling_planet
				orbital_deposit_tile = { clear_deposits = yes add_deposit = d_rich_engineering_deposit }
				every_tile = {
					limit = {
						has_blocker = yes
						NOR = {
							has_blocker = "tb_radioactive_wasteland"
							has_blocker = "tb_city_ruins"
							has_blocker = "tb_crater"
						}
					}
					remove_blocker = yes
					random_list = {
						1 = { set_blocker = "tb_radioactive_wasteland" }
						1 = { set_blocker = "tb_city_ruins" }
						1 = { set_blocker = "tb_crater" }
					}
				}
				while = {
					count = 2
					random_tile = {
						limit = { has_deposit = no }
						set_deposit = d_vast_energy_deposit
					}
				}
				every_tile = {
					limit = { has_building = no has_blocker = no }
					set_building = "building_junkheap"
				}
				create_ambient_object = { type = "large_debris_object" }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 5
						angle = random
					}
				}
				set_planet_entity = { picture = pc_junkheap }
				save_global_event_target_as = ratling_planet_2_tar
			}
		}
	}
	change_orbit = 20
	planet = {
		count = 1
		class = "pc_gas_giant"
		orbit_distance = 30
		orbit_angle = { min = 90 max = 270 }
		size = { min = 10 max = 30 }
		has_ring = yes
		init_effect = {
			prevent_anomaly = yes
			create_ambient_object = { type = "large_debris_object" }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 5
					angle = random
				}
			}
		}
	}
	neighbor_system = {
		distance = { min = 0 max = 50 }
		initializer = "ratling_1_2"
	}
	neighbor_system = {
		distance = { min = 0 max = 50 }
		initializer = "ratling_1_3"
	}
}
 # The Caretaker System
distar_pod_system = {
	class = "sc_binary_7"
	asteroid_belt = { type = rocky_asteroid_belt radius = 135 }
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	 #scaled_#spawn_chance = 8
	spawn_chance = 100
	max_instances = 1
	flags = { escape_pod_system }
	planet = {
		count = 1
		class = star
		orbit_distance = 25
		orbit_angle = 30
		size = { min = 25 max = 30 }
		has_ring = no
	}
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 180
		size = { min = 20 max = 25 }
		has_ring = no
	}
	change_orbit = 30
	planet = {
		count = 3
		class = "rl_unhabitable_planets"
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
	}
	change_orbit = 35
	planet = {
		count = 2
		class = "rl_all_normal_planets"
		orbit_angle = { min = 90 max = 270 }
		has_ring = yes
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			class = "rl_unhabitable_planets"
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
	change_orbit = 20
	planet = {
		count = 1
		class = "pc_gas_giant"
		orbit_angle = { min = 90 max = 270 }
		init_effect = {
			add_anomaly = DISTAR_POD_CAT
			while = {
				count = 10
				create_ambient_object = { type = droppod_01_object }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 5
						angle = random
					}
				}
			}
			while = {
				count = 10
				create_ambient_object = { type = droppod_01_object }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 7
						angle = random
					}
				}
			}
			create_ambient_object = { type = droppod_02_object }
			last_created_ambient_object = {
				set_location = {
					target = prev
					distance = 10
					angle = random
				}
				save_global_event_target_as = droppod_tar
			}
			while = {
				count = 20
				create_ambient_object = { type = droppod_01_object }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 10
						angle = random
					}
				}
			}
			while = {
				count = 20
				create_ambient_object = { type = droppod_01_object }
				last_created_ambient_object = {
					set_location = {
						target = prev
						distance = 15
						angle = random
					}
				}
			}
		}
	}
}
distar_phaseshift_system = {
	class = "sc_binary_5"
	usage = misc_system_init
	usage_odds = {
		base = 90000
		modifier = { factor = 0 has_distar = no }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	 #scaled_#spawn_chance = 8
	spawn_chance = 100
	max_instances = 1
	flags = { phaseshift_system }
	planet = {
		count = 1
		class = star
		orbit_distance = 25
		orbit_angle = 0
		size = { min = 25 max = 30 }
		has_ring = no
	}
	planet = {
		count = 1
		class = star
		orbit_distance = 0
		orbit_angle = 160
		size = { min = 20 max = 25 }
		has_ring = no
	}
	change_orbit = 55
	planet = {
		count = { min = 2 max = 3 }
		orbit_distance = 20
		orbit_angle = { min = 90 max = 270 }
		change_orbit = @base_moon_distance
		moon = {
			count = { min = 0 max = 1 }
			orbit_angle = { min = 90 max = 270 }
			orbit_distance = 5
		}
	}
	change_orbit = 35
	planet = {
		count = 1
		class = "pc_shrouded"
		orbit_angle = { min = 90 max = 270 }
		init_effect = {
			orbital_deposit_tile = {
				clear_deposits = yes
				add_deposit = d_immense_physics_deposit
				add_deposit = d_immense_physics_deposit
				add_deposit = d_immense_physics_deposit
			}
			save_global_event_target_as = phaseshift_planet
			set_planet_flag = phaseshifting_active
		}
	}
	change_orbit = 35
	planet = {
		count = { min = 2 max = 3 }
		orbit_angle = { min = 90 max = 270 }
		change_orbit = @base_moon_distance
	}
}
 # L-Gate System
distantstars_init_00 = {
	class = sc_black_hole
	flags = { hostile_system lgate }
	usage = misc_system_init
	usage_odds = {
		base = 0
		modifier = { has_distar = yes add = 2 }
		modifier = { factor = 0 is_fe_cluster = yes }
		modifier = { factor = 0 has_star_flag = empire_cluster }
	}
	max_instances = 10
	 #scaled_#spawn_chance = 10
	planet = { class = star orbit_distance = 0 }
	change_orbit = 60
	planet = {
		count = { min = 0 max = 1 }
		class = "pc_broken"
		size = { min = 10 max = 15 }
		init_effect = { prevent_anomaly = yes }
	}
	change_orbit = 30
	planet = {
		count = { min = 0 max = 1 }
		class = "pc_barren_cold"
		size = { min = 10 max = 20 }
	}
	init_effect = {
		spawn_megastructure = {
			type = lgate_base
			orbit_angle = 225
			orbit_distance = 30
			location = solar_system
		}
	}
}

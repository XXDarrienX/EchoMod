###################
# Gestalt Jobs
###################
spawning_drone = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_spawning_pool
		
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_spawning_drone = yes }
    }
	
	planet_modifier = {
		planet_amenities_no_happiness_add = 5
		pop_growth_speed = 0.25
	}
	triggered_planet_modifier = {
		potential = {
			has_trait = trait_charismatic
		}
		modifier = {
			planet_amenities_no_happiness_add = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_trait = trait_repugnant
		}
		modifier = {
			planet_amenities_no_happiness_add = -1
		}
	}	

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_plentiful_mutagenesis_1
			}
		}
		modifier = {
			pop_growth_speed = 0.025
		}
	}
	
	resources = {
		category = planet_jobs
		upkeep = {
			food = 5
		}
	}
	
	weight = {
		weight = @spawner_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To9
            SdjTriggerJobPriority0_job_spawning_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_spawning_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_spawning_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_spawning_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_spawning_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_spawning_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_spawning_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_spawning_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_spawning_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_spawning_drone = yes
        }
		modifier = {
			factor = 1.25
			has_trait = trait_charismatic
		}
		modifier = {
			factor = 0.9
			has_trait = trait_repugnant
		}	
		modifier = {
			factor = 0.5 # job is less useful if pop control is active, but still gives amenities 
			planet = {
				has_modifier = planet_population_control_gestalt
			}
		}
		modifier = {
			factor = 10
			has_trait = trait_specialized_breeders
		}
		modifier = {
			factor = 0.01 # crisis purge
			planet.controller = {
				OR = {
					is_country_type = swarm
					is_country_type = ai_empire
				}
			}
		}
	}
}

replicator = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_robot_assembly_plant
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_replicator = yes }
    }
	
	planet_modifier = {
		planet_pop_assembly_add = 1
		planet_amenities_no_happiness_add = 5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_plentiful_cybernetics_3
			}
		}
		planet_pop_assembly_add = 0.5
	} 

	resources = {
		category = planet_pop_assemblers
		produces = {
			engineering_research = 1
		}
		upkeep = {
			minerals = 3
		}
	}
	
	weight = {
		weight = @spawner_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To9
            SdjTriggerJobPriority0_job_replicator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_replicator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_replicator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_replicator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_replicator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_replicator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_replicator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_replicator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_replicator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_replicator = yes
        }
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 0.5 # job is less useful if pop control is active, but still gives amenities
			planet = {
				has_modifier = planet_population_control_gestalt
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				has_trait = trait_charismatic
				has_trait = trait_robot_emotion_emulators
			}
		}
		modifier = {
			factor = 2
			OR = {
				has_trait = trait_plentiful_traditions_robot_buildcost1
				has_trait = trait_plentiful_traditions_robot_buildcost2
				has_trait = trait_plentiful_traditions_robot_buildcost3
				has_trait = trait_robot_recycled
				has_trait = trait_robot_flexible_designs
				has_trait = trait_robot_scrapbots
			}
		}
		modifier = {
			factor = 2
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}
		modifier = {
			factor = 0.9
			OR = {
				has_trait = trait_repugnant
				has_trait = trait_robot_uncanny
			}
		}
	}
}

coordinator = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_machine_capital
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_coordinator = yes }
    } 
	
	planet_modifier = {
		planet_jobs_simple_drone_produces_mult = 0.01
	}
	
	resources = {
		category = planet_jobs
		produces = {
			unity = 3
			society_research = 1
			physics_research = 1
			engineering_research = 1 
		}
		upkeep = {
			energy = 3
		}
	}	
	
	weight = {
		weight = @synapse_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To8
            SdjTriggerJobPriority0_job_coordinator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_coordinator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_coordinator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_coordinator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_coordinator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_coordinator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_coordinator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_coordinator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_coordinator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_coordinator = yes
        }
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 1
			OR = {
				has_trait = trait_compact
				has_trait = trait_united
				has_trait = trait_additrait_united
				has_trait = trait_robot_propaganda_machines
				has_trait = trait_robot_historical_curator
				has_trait = trait_robot_historical_revisionist
			}
		}
		modifier = {
			factor = 1
			OR = {
				has_trait = trait_robot_improved_logic
				has_trait = trait_robot_organic_logic
				has_trait = trait_robot_matrioshka_brain_link
				has_trait = trait_robot_physicist
				has_trait = trait_robot_sociologist
				has_trait = trait_robot_engineer
				has_trait = trait_robot_omniscient_physicist
				has_trait = trait_robot_omniscient_sociologist
				has_trait = trait_robot_omniscient_engineer
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				has_trait = trait_additrait_rusty_antiquities
				has_trait = trait_additrait_swarm
				has_trait = trait_additrait_unfit_engineers
				has_trait = trait_additrait_unfit_physicists
				has_trait = trait_additrait_unfit_sociologists
				has_trait = trait_quarrelsome
				has_trait = trait_nerve_stapled
				has_trait = trait_additrait_melancholic
				has_trait = trait_additrait_divided
			}
		}	
		modifier = {
			factor = 2
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}	
	}
}

synapse_drone = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_hive_capital
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_synapse_drone = yes }
    }

	resources = {
		category = planet_jobs
		produces = {
			unity = 3
			society_research = 3
		}
		upkeep = {
			food = 2
			energy = 2
		}
	}
	
	weight = {
		weight = @synapse_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To8
            SdjTriggerJobPriority0_job_synapse_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_synapse_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_synapse_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_synapse_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_synapse_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_synapse_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_synapse_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_synapse_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_synapse_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_synapse_drone = yes
        }
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 1
			OR = {
				has_trait = trait_compact
				has_trait = trait_united
				has_trait = trait_additrait_united
				has_trait = trait_traditional
				has_trait = trait_additrait_passionate
				has_trait = trait_presapient_natural_intellectuals
				has_trait = trait_additrait_presapient_natural_inventors
				has_trait = trait_additrait_presapient_natural_savants
			}
		}		
	}
}

brain_drone = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_research_lab_1
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_brain_drone = yes }
    }

	resources = {
		category = planet_researchers
		produces = {	
			physics_research = 4
			engineering_research = 4
			society_research = 4
		}
		upkeep = {
			minerals = 6
		}		
	}
	
	weight = {
		weight = @complex_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To4
            SdjTriggerJobPriority0_job_brain_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_brain_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_brain_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_brain_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_brain_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_brain_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_brain_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_brain_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_brain_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_brain_drone = yes
        }
		modifier = {
			factor = 3
			has_trait = trait_erudite
		}
		modifier = {
			factor = 2
			has_trait = trait_intelligent
		}
		modifier = {
			factor = 1.5
			OR = {
				has_trait = trait_natural_engineers
				has_trait = trait_natural_physicists
				has_trait = trait_natural_sociologists
				has_trait = complex_species_trait_Energy_Being
				has_trait = trait_presapient_natural_intellectuals
				has_trait = trait_additrait_presapient_natural_inventors
				has_trait = trait_additrait_presapient_natural_savants
				has_trait = trait_enigmatic_intelligence
				has_trait = trait_enigmatic_intelligence_poor
			}
		}	
		modifier = {
			factor = 0.65
			OR = {
				has_trait = trait_syncretic_proles
				has_trait = trait_presapient_proles
				has_trait = trait_enigmatic_intelligence_failed	
			}
		}
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}		
	}
}

calculator = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_research_lab_1
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_calculator = yes }
    }

	resources = {
		category = planet_researchers
		produces = {
			physics_research = 4
			engineering_research = 4
			society_research = 4
		}
		upkeep = {
			minerals = 6
		}		
	}
	
	weight = {
		weight = @complex_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To4
            SdjTriggerJobPriority0_job_calculator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_calculator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_calculator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_calculator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_calculator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_calculator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_calculator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_calculator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_calculator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_calculator = yes
        }
		modifier = {
			factor = 2
			has_trait = trait_robot_logic_engines
		}
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 2
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}
		modifier = {
			factor = 1
			OR = {
				has_trait = trait_natural_engineers
				has_trait = trait_natural_physicists
				has_trait = trait_natural_sociologists
				has_trait = trait_plentiful_traditions_robot_engineering1
				has_trait = trait_plentiful_traditions_robot_engineering2
				has_trait = trait_plentiful_traditions_robot_engineering3
				has_trait = trait_robot_improved_logic
				has_trait = trait_robot_organic_logic
				has_trait = trait_robot_matrioshka_brain_link
				has_trait = trait_robot_physicist
				has_trait = trait_robot_sociologist
				has_trait = trait_robot_engineer
				has_trait = trait_robot_omniscient_physicist
				has_trait = trait_robot_omniscient_sociologist
				has_trait = trait_robot_omniscient_engineer
				has_trait = trait_presapient_natural_intellectuals
				has_trait = trait_enigmatic_intelligence
				has_trait = trait_enigmatic_intelligence_poor
				has_trait = trait_additrait_presapient_natural_inventors
				has_trait = trait_additrait_presapient_natural_savants
				has_trait = trait_brainslug
				has_trait = trait_intelligent
				has_trait = trait_fluid_synapses
				has_trait = trait_additrait_multitasking
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				has_trait = trait_presapient_proles
				has_trait = trait_presapient_docile_livestock
				has_trait = trait_nerve_stapled
				has_trait = trait_additrait_easily_distracted
				has_trait = trait_additrait_simple_minded
				has_trait = trait_enigmatic_intelligence_failed
				has_trait = trait_additrait_unfit_engineers
				has_trait = trait_additrait_unfit_physicists
				has_trait = trait_additrait_unfit_sociologists
				has_trait = trait_axiomatic_synapses
				has_trait = trait_presapient_proles
			}
		}		
	}
}

artisan_drone = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_organic_sanctuary
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_artisan_drone = yes }
    }
	
	resources = {
		category = planet_artisans
		produces = {
			consumer_goods = 6
		}		
		upkeep = {
			minerals = 6
		}
	}	
	
	weight = {
		weight = @complex_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To4
            SdjTriggerJobPriority0_job_artisan_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_artisan_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_artisan_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_artisan_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_artisan_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_artisan_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_artisan_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_artisan_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_artisan_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_artisan_drone = yes
        }
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 2
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}
	}
}

fabricator = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_foundry_1
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_fabricator = yes }
    }

	resources = {
		category = planet_metallurgists
		produces = {
			alloys = 4
		}
		upkeep = {
			minerals = 8
		}
	}
	
	weight = {
		weight = @complex_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To4
            SdjTriggerJobPriority0_job_fabricator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_fabricator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_fabricator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_fabricator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_fabricator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_fabricator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_fabricator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_fabricator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_fabricator = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_fabricator = yes
        }
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 2
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}
		modifier = {
			factor = 5
			has_trait = trait_masters_of_industry
		}
	}
}

alloy_drone = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_foundry_1
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_alloy_drone = yes }
    }

	resources = {
		category = planet_metallurgists
		produces = {
			alloys = 3
		}
		upkeep = {
			minerals = 6
		}
	}
	
	weight = {
		weight = @complex_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To4
            SdjTriggerJobPriority0_job_alloy_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_alloy_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_alloy_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_alloy_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_alloy_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_alloy_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_alloy_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_alloy_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_alloy_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_alloy_drone = yes
        }
		modifier = {
			factor = 5
			has_trait = trait_masters_of_industry
		}
		modifier = {
			factor = 2
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}
	}
}

chemist_drone = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_chemical_plant
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_chemist_drone = yes }
    }
	
	resources = {
		category = planet_chemists
		produces = {
			volatile_motes = 2
		}		
		upkeep = {
			minerals = 10
		}	
	}
	
	weight = {
		weight = @complex_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To4
            SdjTriggerJobPriority0_job_chemist_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_chemist_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_chemist_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_chemist_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_chemist_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_chemist_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_chemist_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_chemist_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_chemist_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_chemist_drone = yes
        }
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 2
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}
	}
}

translucer_drone = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_crystal_plant
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_translucer_drone = yes }
    }

	resources = {
		category = planet_translucers
		produces = {
			rare_crystals = 2
		}		
		upkeep = {
			minerals = 10
		}	
	}
	
	weight = {
		weight = @complex_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To4
            SdjTriggerJobPriority0_job_translucer_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_translucer_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_translucer_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_translucer_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_translucer_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_translucer_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_translucer_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_translucer_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_translucer_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_translucer_drone = yes
        }
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 2
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}
	}
}

gas_refiner_drone = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_refinery
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_gas_refiner_drone = yes }
    }

	resources = {
		category = planet_refiners
		produces = {
			exotic_gases = 2
		}		
		upkeep = {
			minerals = 10
		}
	}
	
	weight = {
		weight = @complex_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To4
            SdjTriggerJobPriority0_job_gas_refiner_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_gas_refiner_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_gas_refiner_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_gas_refiner_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_gas_refiner_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_gas_refiner_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_gas_refiner_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_gas_refiner_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_gas_refiner_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_gas_refiner_drone = yes
        }
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 2
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}
	}
}

patrol_drone = {
	category = complex_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_stronghold
	
    possible = {
        drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_complex_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_patrol_drone = yes }
    }
	
	resources = {
		category = planet_jobs
		produces = {
			unity = 1
		}	
		produces = {
			trigger = {
				exists = owner
				owner = {
					has_swapped_tradition = tr_plentiful_order_adopt_gestalt
				}
			}
			unity = 3
		}
		produces = {
			trigger = {
				exists = owner
				owner = {
					has_tradition = tr_plentiful_malice_3
				}
			}
			unity = 2
		}
	}
	
	planet_modifier = {
		planet_crime_no_happiness_add = -20
	}
	
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_plentiful_malice_3
			}
		}
		modifier = {
			planet_crime_add = -10
			planet_amenities_add = 2
		}		
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				has_tradition = tr_plentiful_malice_3
			}
		}
		modifier = {
			planet_crime_add = -10
			planet_amenities_add = 2
		}		
	}

	pop_modifier = {
		pop_defense_armies_add = 2
	}
		
	weight = {
		weight = @complex_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To4
            SdjTriggerJobPriority0_job_patrol_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_patrol_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_patrol_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_patrol_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_patrol_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_patrol_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_patrol_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_patrol_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_patrol_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_patrol_drone = yes
        }
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 2
			OR = {
				has_trait = trait_very_strong
				has_trait = trait_resilient
				has_trait = trait_additrait_zealous_defenders
				has_trait = complex_species_trait_Gigantic
				has_trait = complex_species_trait_Naturally_Psionic
				has_trait = complex_species_trait_Powerful_Thermal_Biogenesis
				has_trait = complex_species_trait_Berserk_Gene
				has_trait = trait_sharp
				has_trait = trait_additrait_swarm
				has_trait = trait_robot_very_strong
				has_trait = trait_robot_shielded
				has_trait = trait_robot_intimidation
			}
		}
		modifier = {
			factor = 1
			OR = {
				has_trait = trait_strong
				has_trait = trait_additrait_steadfast
				has_trait = complex_species_trait_Cyclopean
				has_trait = complex_species_trait_Acidic_Species
				has_trait = trait_limited_regeneration
				has_trait = trait_additrait_born_warriors
				has_trait = complex_species_trait_Electro_Biogensisis
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				has_trait = trait_weak
				has_trait = trait_additrait_delicate
				has_trait = trait_additrait_weak_willed
				has_trait = trait_additrait_soft
				has_trait = trait_additrait_lethargic
				has_trait = trait_additrait_delicate
				has_trait = complex_species_trait_Small
				has_trait = complex_species_trait_Natural_Flight
				has_trait = trait_brittle
			}
		}
	}
}

crystal_mining_drone = {	
	category = simple_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_crystal_mines
	
	possible = {
		drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_simple_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_crystal_mining_drone = yes }
	}

	resources = {
		category = planet_jobs
		produces = {
			rare_crystals = 2
		}
		upkeep = {
			energy = 1
		}
	}	
	
	weight = {
		weight = @simple_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_crystal_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_crystal_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_crystal_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_crystal_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_crystal_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_crystal_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_crystal_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_crystal_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_crystal_mining_drone = yes
        }
		modifier = {
			factor = 1.1
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 1
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}		
	}
}

mote_harvesting_drone = {	
	category = simple_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_mote_harvesters
	
	possible = {
		drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_simple_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_mote_harvesting_drone = yes }
	}

	resources = {
		category = planet_jobs
		produces = {
			volatile_motes = 2
		}
		upkeep = {
			energy = 1
		}		
	}	
	
	weight = {
		weight = @simple_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_mote_harvesting_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_mote_harvesting_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_mote_harvesting_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_mote_harvesting_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_mote_harvesting_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_mote_harvesting_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_mote_harvesting_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_mote_harvesting_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_mote_harvesting_drone = yes
        }
		modifier = {
			factor = 1.1
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 1
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}			
	}
}

gas_extraction_drone = {	
	category = simple_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_gas_extractors
	
	possible = {
		drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_simple_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_gas_extraction_drone = yes }
	}

	resources = {
		category = planet_jobs
		produces = {
			exotic_gases = 2
		}
		upkeep = {
			energy = 1
		}		
	}	
	
	weight = {
		weight = @simple_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_gas_extraction_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_gas_extraction_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_gas_extraction_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_gas_extraction_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_gas_extraction_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_gas_extraction_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_gas_extraction_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_gas_extraction_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_gas_extraction_drone = yes
        }
		modifier = {
			factor = 1.1
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 1
			has_trait = trait_plentiful_traditions_robot_backup_batteries
		}			
	}
}

mining_drone = {
	category = simple_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_crystal_mines
	
	possible = {
		drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_simple_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_mining_drone = yes }
	}

	resources = {
		category = planet_miners
		produces = {
			minerals = 4
		}	
	}
	
	weight = {
		weight = @simple_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_mining_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_mining_drone = yes
        }
		modifier = {
			factor = 2
			OR = {
				has_trait = trait_industrious
				has_trait = trait_robot_power_drills
				has_trait = trait_robot_hierarchical_drones
				has_trait = trait_robot_neutronium_telemetry
			}		
		}
		modifier = {
			factor = 1
			OR = {
				has_trait = trait_industrious
				has_trait = trait_additrait_swarm
				has_trait = complex_species_trait_Gigantic
				has_trait = trait_silicoid
				has_trait = trait_plentiful_traditions_robot_supercharged_drills
				has_trait = trait_plentiful_traditions_robot_minerals2
				has_trait = trait_plentiful_traditions_robot_minerals3
				has_trait = trait_plentiful_traditions_robot_minerals1
				has_trait = trait_robot_worker_drones
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				has_trait = trait_additrait_lazy
				has_trait = complex_species_trait_Small
				has_trait = trait_additrait_defective_scanners
				has_trait = trait_additrait_presapient_natural_inventors
				has_trait = trait_additrait_presapient_natural_savants
				has_trait = trait_presapient_natural_intellectuals
				has_trait = trait_plentiful_traditions_robot_minerals4
				has_trait = trait_robot_neutronium_telemetry
				has_trait = trait_plentiful_traditions_robot_energy2
				has_trait = trait_plentiful_traditions_robot_energy3
				has_trait = trait_robot_superconductive
				has_trait = complex_species_trait_Electro_Biogensisis
				has_trait = complex_species_trait_Energy_Being
				has_trait = trait_plentiful_traditions_robot_energy1
				has_trait = trait_robot_worker_drones
			}
		}
		modifier = {
			factor = 1.1
			owner = {
				has_monthly_income = {
					resource = minerals
					value < 0
				}
			}
		}
		modifier = {
			factor = 1.2
			has_job = mining_drone
		}
		modifier = {
			factor = 1.1
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}		
	}
}

agri_drone = {
	category = simple_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_food_processing_facility
	
	possible = {
		drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_simple_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_agri_drone = yes }
	}

	resources = {
		category = planet_farmers
		produces = {
			food = 6
		}
		produces = {
			trigger = { 
				owner = {
					is_robot_empire = yes
				}
			}
			food = -1
		}
	}
	
	weight = {
		weight = @simple_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_agri_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_agri_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_agri_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_agri_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_agri_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_agri_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_agri_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_agri_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_agri_drone = yes
        }
		modifier = {
			factor = 2
			OR = {
				has_trait = trait_agrarian
				has_trait = trait_robot_harvesters
				has_trait = trait_robot_hierarchical_drones
				has_trait = trait_robot_neutronium_telemetry
				has_trait = trait_natural_farmers
				has_trait = trait_plentiful_traditions_robot_food1
				has_trait = trait_plentiful_traditions_robot_food2
				has_trait = trait_plentiful_traditions_robot_food3
				has_trait = trait_robot_worker_drones
			}		
		}
		modifier = {
			factor = 0.5
			OR = {
				has_trait = trait_additrait_hunter_gatherers
				has_trait = trait_additrait_weedkillers
				has_trait = trait_plentiful_traditions_robot_food4
			}
		}
		modifier = {
			factor = 1.1
			owner = {
				has_monthly_income = {
					resource = food
					value < 0
				}
			}
		}
		modifier = {
			factor = 1.2
			has_job = agri_drone
		}
		modifier = {
			factor = 0.9
			owner = {
				is_robot_empire = yes
			}
		}	
		modifier = {
			factor = 1.1
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}		
	}
}

technician_drone = {
	category = simple_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_power_plant
	
	possible = {
		drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_simple_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_technician_drone = yes }
	}

	resources = {
		category = planet_technician
		produces = {
			energy = 4
		}
		produces = {
			trigger = { 
				owner = {
					is_robot_empire = yes
				}
			}
			energy = 2
		}
	}
	
	weight = {
		weight = @simple_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_technician_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_technician_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_technician_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_technician_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_technician_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_technician_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_technician_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_technician_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_technician_drone = yes
        }
		modifier = {
			factor = 2
			OR = {
				has_trait = trait_robot_superconductive
				has_trait = trait_ingenious
				has_trait = trait_robot_hierarchical_drones
				has_trait = trait_robot_neutronium_telemetry
				has_trait = trait_plentiful_traditions_robot_energy2
				has_trait = trait_plentiful_traditions_robot_energy3
				has_trait = complex_species_trait_Electro_Biogensisis
				has_trait = complex_species_trait_Energy_Being
				has_trait = trait_plentiful_traditions_robot_energy1
				has_trait = trait_robot_worker_drones
				has_trait = trait_plentiful_traditions_robot_supercharged_drills
			}		
		}
		modifier = {
			factor = 0.5
			OR = {
				has_trait = trait_nerve_stapled
				has_trait = trait_additrait_prodigal
				has_trait = trait_electroid
				has_trait = trait_additrait_energy_leaks
				has_trait = trait_plentiful_traditions_robot_energy4
				has_trait = trait_additrait_swarm
				has_trait = trait_robot_power_drills
				has_trait = trait_plentiful_traditions_robot_supercharged_drills
				has_trait = trait_plentiful_traditions_robot_minerals2
				has_trait = trait_plentiful_traditions_robot_minerals3
				has_trait = trait_industrious
				has_trait = complex_species_trait_Gigantic
				has_trait = trait_plentiful_traditions_robot_minerals1
				has_trait = trait_robot_worker_drones
			}
		}
		modifier = {
			factor = 1.1
			owner = {
				has_monthly_income = {
					resource = energy
					value < 0
				}
			}
		}
		modifier = {
			factor = 1.2
			has_job = technician_drone
		}
		modifier = {
			factor = 1.1
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}		
	}
}

maintenance_drone = {
	category = simple_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_maintenance_depot
	
	possible = {
		drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_simple_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_maintenance_drone = yes }
	}
	
	planet_modifier = {
		planet_amenities_no_happiness_add = 4
	}
	triggered_planet_modifier = {
		potential = {
			OR = {
				has_trait = trait_robot_emotion_emulators
				has_trait = trait_charismatic
			}
		}
		modifier = {
			planet_amenities_no_happiness_add = 0.8
		}
	}
	triggered_planet_modifier = {
		potential = {
			OR = {
				has_trait = trait_robot_uncanny
				has_trait = trait_repugnant
			}
		}
		modifier = {
			planet_amenities_no_happiness_add = -0.8
		}
	}		
	
	weight = {
		weight = @simple_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_maintenance_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_maintenance_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_maintenance_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_maintenance_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_maintenance_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_maintenance_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_maintenance_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_maintenance_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_maintenance_drone = yes
        }
		modifier = {
			factor = 2
			OR = {
				has_trait = trait_charismatic
				has_trait = trait_robot_emotion_emulators
			}
		}
		modifier = {
			factor = 1.2
			has_job = maintenance_drone
		}
		modifier = {
			factor = 0.9
			planet = {
				free_amenities > 10
			}
		}
		modifier = {
			factor = 1.1
			planet = {
				free_amenities < 0
			}
		}
		modifier = {
			factor = 1.25
			planet = {
				free_amenities < 5
			}
		}
		modifier = {
			factor = 2
			planet = {
				free_amenities < 10
			}
		}
		modifier = {
			factor = 0.8
			OR = {
				has_trait = trait_robot_uncanny
				has_trait = trait_repugnant
			}
		}
		modifier = {
			factor = 1.1
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}		
	}
}

warrior_drone = {
	category = simple_drone
	condition_string = DRONE_JOB_TRIGGER
	building_icon = building_stronghold
	
	country_modifier = {
		country_naval_cap_add = 4
	}
	
	triggered_country_modifier = {
		potential = {
			planet = {
				exists = owner 
				owner = { has_technology = "tech_ground_defense_planning" }
			}
		}
		modifier = {
			country_naval_cap_add = 2
		}
	}
	
	pop_modifier = {
		pop_defense_armies_add = 3
	}
	
	triggered_planet_modifier = {
		potential = {
			planet = {
				OR = {
					has_modifier = compliance_protocols
					has_modifier = hunter_killer_drones
				}			
			}
		}
		modifier = {
			planet_stability_add = 5
		}
	}

	triggered_pop_modifier = {
		potential = {
			exists = owner 
			owner = { has_tradition = tr_plentiful_defence_finish }
		}
		modifier = {
			pop_defense_armies_add = 2
		}
	}
	
	possible = {
		drone_job_check_trigger = yes
        SdjTriggerCheck_job_cat_simple_drone = yes
        NOT = { SdjTriggerJobPriorityN_job_warrior_drone = yes }
	}
	
	weight = {
		weight = @warrior_drone_job_weight
		modifier = {
            factor = @SdjConstWeightModifier0To5
            SdjTriggerJobPriority0_job_warrior_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier0To1
            SdjTriggerJobPriority1_job_warrior_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier1To2
            SdjTriggerJobPriority2_job_warrior_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier2To3
            SdjTriggerJobPriority3_job_warrior_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier3To4
            SdjTriggerJobPriority4_job_warrior_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier4To5
            SdjTriggerJobPriority5_job_warrior_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier5To6
            SdjTriggerJobPriority6_job_warrior_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier6To7
            SdjTriggerJobPriority7_job_warrior_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier7To8
            SdjTriggerJobPriority8_job_warrior_drone = yes
        }
        modifier = {
            factor = @SdjConstWeightModifier8To9
            SdjTriggerJobPriority9_job_warrior_drone = yes
        }
		modifier = {
			factor = 10
			planet = {
				OR = {
					has_modifier = compliance_protocols
					has_modifier = hunter_killer_drones
				}
			}
		}
		modifier = {
			factor = 2
			has_trait = trait_resilient
		}	
		modifier = {
			factor = 2
			has_trait = trait_very_strong
		}	
		modifier = {
			factor = 1.5
			has_trait = trait_strong
		}	
		modifier = {
			factor = 0.5
			has_trait = trait_weak
		}	
		modifier = {
			factor = 0.5
			OR = {
				has_trait = trait_additrait_delicate
				has_trait = trait_additrait_weak_willed
				has_trait = trait_additrait_soft
				has_trait = trait_additrait_lethargic
				has_trait = trait_additrait_delicate
				has_trait = complex_species_trait_Small
				has_trait = complex_species_trait_Natural_Flight
				has_trait = trait_brittle
			}
		}
		modifier = {
			factor = 0.9
			exists = owner
			years_passed < 1
			owner = { has_valid_civic = civic_machine_assimilator }
			has_trait = trait_cybernetic
		}
		modifier = {
			factor = 2
			OR = {
				has_trait = trait_additrait_zealous_defenders
				has_trait = complex_species_trait_Gigantic
				has_trait = complex_species_trait_Naturally_Psionic
				has_trait = complex_species_trait_Powerful_Thermal_Biogenesis
				has_trait = complex_species_trait_Berserk_Gene
				has_trait = trait_additrait_swarm
				has_trait = trait_robot_very_strong
				has_trait = trait_robot_shielded
				has_trait = trait_robot_intimidation
			}
		}
		modifier = {
			factor = 1
			OR = {
				has_trait = trait_limited_regeneration
				has_trait = trait_additrait_born_warriors
				has_trait = complex_species_trait_Electro_Biogensisis
				has_trait = trait_robot_strong	
			}
		}		
	}
}
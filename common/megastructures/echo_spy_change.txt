@phase_0_entity_x = -15
@phase_0_entity_y = -5
@entity_x = -15
@entity_y = -15

spy_orb_4 = {
	entity = "spyorb_phase_04_entity"
	construction_entity = "spyorb_phase_04_construction_entity"
	portrait = "GFX_megastructure_spy_orb_background"
	place_entity_on_planet_plane = no
	entity_offset = { x = @entity_x y = @entity_y }
	upgrade_from = {
		spy_orb_3
	}
	build_time = 1800
	build_cost = {
		minerals = 20000
	}
	maintenance = {
		energy = 100
	}
	possible = {
		from = { has_ascension_perk = ap_galactic_wonders }
	}
    sensor_range = 1100
	# effect implementation in game_rules (has_full_sensor_range)
}

spy_orb_restored = {
	entity = "spyorb_phase_04_entity"
	construction_entity = "spyorb_phase_04_construction_entity"
	portrait = "GFX_megastructure_spy_orb_background"
	place_entity_on_planet_plane = no
	entity_offset = { x = @entity_x y = @entity_y }
	upgrade_from = {
		spy_orb_ruined
	}
	build_time = 4800
	build_cost = {
		minerals = 30000
	}
	maintenance = {
		energy = 100
	}

	possible = {
		from = { 
			has_technology = tech_mega_engineering
		}
	}
    sensor_range = 1100
    
	on_build_start = {
		fromfrom = {
			set_graphical_culture = root.from
		}
	}

	on_build_complete = {
		every_system_ambient_object = { destroy_ambient_object = this }
		from = {
			country_event = { id = utopia.2015 }
		}
	}
}